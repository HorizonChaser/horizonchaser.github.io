---
title: CS Network Review and Summary
date: 2021-06-13 20:47:19
math: true
excerpt: 2021æœŸæœ«è®¡ç½‘å¤ä¹ æ€»ç»“
tags:
 - CS Network
 - Review
---

# è¯´æ˜ & é£Ÿç”¨æ–¹æ³•

æŒ‰ç…§è®¡ç½‘è€å¸ˆå‘çš„æçº²ä»ä¹¦ä¸Šæ€»ç»“çš„é‡ç‚¹

æ ‡é¢˜åæ ‡æœ‰ `[IMP]` çš„ä¸ºæçº²ä¸ŠåŠ ç²—çš„, å¤§æ¦‚å°±æ˜¯é‡ç‚¹ä¸­çš„é‡ç‚¹äº†å§
~~å‰é¢çš„å‡ ç« è¿˜æ²¡æ ‡~~

å½“å‰è¿›åº¦: 27 / 27 ç« , 100.0%
~~è®¡åˆ’åœ¨ 06/22 å®Œæˆæ‰€æœ‰å†…å®¹~~
å·²åœ¨ 06/22 å®Œæˆ

CC-BY-**NC**-SA 4.0
ä¿®è®¢: 2021/06/22 Rev-1

# Part 1 æ¦‚è¿°

## Chapter 1 ç»ªè®º

### æ•°æ®é€šä¿¡çš„æ¦‚å¿µ

- å››ä¸ªå…³é”®å› ç´ : ä¼ é€’æ€§ å‡†ç¡®æ€§ åŠæ—¶æ€§ æŠ–åŠ¨æ€§
- äº”ä¸ªç»„æˆéƒ¨åˆ†: æŠ¥æ–‡ å‘é€æ–¹ æ¥æ”¶æ–¹ ä¼ è¾“ä»‹è´¨ åè®®
  
### æ•°æ®æµ [IMP]

- å•å·¥: é€šä¿¡æ˜¯å•æ–¹å‘çš„
- åŠåŒå·¥: é€šä¿¡æ˜¯åŒå‘çš„, ä½†ä¸èƒ½åŒæ—¶æ”¶å‘
- å…¨åŒå·¥: åŒå‘é€šä¿¡, å¯åŒæ—¶æ”¶å‘
  
### è¿æ¥ç±»å‹

- ç‚¹åˆ°ç‚¹: ä¸¤è®¾å¤‡é—´çš„ä¸“ç”¨çº¿è·¯
- å¤šç‚¹è¿æ¥: ä¸¤å°ä»¥ä¸Šçš„è®¾å¤‡å…±ç”¨å•ä¸€é“¾è·¯

### ç‰©ç†æ‹“æ‰‘ç»“æ„

- ç½‘çŠ¶: ä»»æ„ä¸¤è®¾å¤‡é—´éƒ½æœ‰ä¸“ç”¨çš„ç‚¹åˆ°ç‚¹çº¿è·¯, $n$å°è®¾å¤‡éœ€è¦ $\frac{n*(n-1)}{2}$ æ¡åŒå·¥é“¾è·¯
- æ˜Ÿå‹: æ¯å°è®¾å¤‡ä»…æ‹¥æœ‰ä¸€æ¡ä¸ä¸­å¤®æ§åˆ¶å™¨ (è¢«ç§°ä¸ºé›†çº¿å™¨, hub) ç›¸è¿çš„ç‚¹åˆ°ç‚¹çº¿è·¯
- æ€»çº¿: ç”¨ä¸€æ¡è¾ƒé•¿çš„çº¿ç¼†ä½œä¸ºä¸»å¹²æ¥è¿æ¥ç½‘ç»œä¸Šçš„æ‰€æœ‰è®¾å¤‡, å„è®¾å¤‡é€šè¿‡å¼•å‡ºçº¿è¿æ¥åˆ°ä¸»å¹²
- ç¯çŠ¶: æ¯å°è®¾å¤‡åªä¸ä¸¤ä¾§è®¾å¤‡æœ‰ä¸€æ¡ä¸“ç”¨çš„ç‚¹åˆ°ç‚¹è¿æ¥, ä¿¡å·ä»¥ä¸€ä¸ªæ–¹å‘åœ¨ç¯ä¸­ä¼ è¾“, æ¯å°è®¾å¤‡å‡æœ‰ä¸­ç»§å™¨ (å¯å†ç”Ÿå¹¶è½¬å‘æ”¶åˆ°çš„æ‰€æœ‰ä¿¡å·)
- æ··åˆå‹
  
### ç½‘ç»œåˆ†ç±» [IMP]

- å±€åŸŸç½‘ (local area network, LAN): å°èŒƒå›´å†…çš„å…±äº«, ä¾‹å¦‚ä¸€é—´åŠå…¬å®¤æˆ–ä¸€æ‰€å­¦æ ¡, é€šå¸¸ä»…é‡‡ç”¨ä¸€ç§ä¼ è¾“ä»‹è´¨
- å¹¿åŸŸç½‘ (wide area network, WAN):
  - äº¤æ¢å¹¿åŸŸç½‘: å°†ä¸åŒçš„ç½‘ç»œè¿æ¥èµ·æ¥, é€šå¸¸åŒ…å«è‡³å°‘ä¸€ä¸ªç½‘é™…äº’è”è®¾å¤‡ (ä¾‹å¦‚è·¯ç”±å™¨)
  - ç‚¹åˆ°ç‚¹å¹¿åŸŸç½‘: å°†ä¸€å°è®¾å¤‡è¿æ¥åˆ°å¹¿åŸŸç½‘, ä¾‹å¦‚ ISP (Internet service provider, ç½‘ç»œæœåŠ¡æä¾›å•†) æä¾›çš„ç½‘ç»œæœåŠ¡
- åŸåŸŸç½‘ (metropolitian area network, MAN): è§„æ¨¡ä»‹äº LAN å’Œ WAN ä¹‹é—´, è¦†ç›–èŒƒå›´é€šå¸¸æ˜¯ä¸€ä¸ªä¹¡é•‡ / åŸå¸‚
  
### åè®®å’Œæ ‡å‡† [IMP]

#### åè®®ä¸‰è¦ç´ 

- è¯­æ³•: æ•°æ®çš„ç»“æ„æˆ–æ ¼å¼, å³æ•°æ®æ˜¯ä»¥ä½•ç§é¡ºåºè¡¨ç¤ºçš„
- è¯­ä¹‰: æ¯ä¸€ä¸ªä½ç‰‡æ®µçš„å«ä¹‰, å³å¦‚ä½•ç†è§£æ¯ä¸€ä¸ªä½ç½®ä¸Šçš„ä½çš„å«ä¹‰
- æ—¶åº: æŠ¥æ–‡å‘é€çš„æ—¶é—´å’Œå‘é€çš„é€Ÿç‡
  
#### æ ‡å‡†

- äº‹å®æ ‡å‡†: æœªç»å›¢ä½“æˆ–ç»„ç»‡æ‰¿è®¤ä½†å·²ç»åœ¨å¹¿æ³›ä½¿ç”¨ä¸­çš„æ ‡å‡†
- æ³•å®šæ ‡å‡†: æœ‰å®˜æ–¹è®¤å¯çš„ç»„ç»‡åˆ¶å®šçš„æ ‡å‡†

## Chapter 2 ç½‘ç»œæ¨¡å‹

![Model](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210616190804.png)

### OSIæ¨¡å‹ [IMP]

OSI (Open System Interconnection, å¼€æ”¾ç³»ç»Ÿäº’è¿) æ¨¡å‹, **ä¸æ˜¯åè®®, ä¹Ÿä¸æ˜¯ ISO é‚£ä¸ªç»„ç»‡**

#### åˆ†å±‚çš„æ¦‚å¿µä¸å±‚é—´è¿æ¥

- å¯¹ç­‰è¿‡ç¨‹: è®¾å¤‡é—´åŒä¸€å±‚æ¬¡çš„é€šä¿¡è¿‡ç¨‹, ä¾‹å¦‚ç‰©ç†å±‚ - ç‰©ç†å±‚, ä¼ è¾“å±‚ - ä¼ è¾“å±‚
- å±‚é—´æ¥å£: æ¯å±‚çš„æ¥å£éƒ½å®šä¹‰äº†æœ¬å±‚å‘ä¸Šä¸‹ä¸¤å±‚æä¾›çš„æœåŠ¡, æ— å…³å±‚å†…çš„å…·ä½“å®ç°, ä¾¿äºä¿®æ”¹
- å°è£…: ç¬¬ $N-1$ å±‚çš„åˆ†ç»„ä¸­çš„æ•°æ®éƒ¨åˆ†æ˜¯ç¬¬ $N$ å±‚çš„å®Œæ•´åˆ†ç»„, åè€…è¢« $N-1$ å±‚è§†ä¸ºä¸€ä¸ªå®Œæ•´çš„æ•°æ®å•å…ƒ, ä¸å…³å¿ƒå†…éƒ¨ç»“æ„

#### å„å±‚åŠŸèƒ½

##### ç‰©ç†å±‚

**è´Ÿè´£ä½ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„ä¼ é€’**, å®šä¹‰äº†æ¥å£å’Œä»‹è´¨çš„ç‰©ç†ç‰¹æ€§, **ä¸å¯¹æ•°æ®è¿›è¡Œä»»ä½•æ”¹åŠ¨**

###### åŠŸèƒ½

- ä½çš„è¡¨ç¤º (æŠŠ0 1è½¬æ¢ä¸ºå¯¹åº”ç§ç±»çš„ä¿¡å·)
- ä¼ è¾“é€Ÿç‡ (å‘é€ä½çš„é€Ÿåº¦, æ¯ä¸€ä½æŒç»­çš„æ—¶é—´)
- ä½åŒæ­¥, çº¿è·¯é…ç½®, ç‰©ç†æ‹“æ‰‘ç»“æ„, ä¼ è¾“æ–¹å¼ç­‰ç­‰

##### æ•°æ®é“¾è·¯å±‚

**è´Ÿè´£å¸§ä»ä¸€ä¸ªèŠ‚ç‚¹ (node, é€šå¸¸ä¹Ÿè¢«ç§°ä½œä¸€è·³, one hop)åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ (å³ä¸‹ä¸€è·³) çš„ä¼ é€’, åœ¨åŒä¸€ä¸ªç½‘ç»œå†…éƒ¨**, å°†ç‰©ç†å±‚å˜ä¸ºå¯é çš„é“¾è·¯

###### åŠŸèƒ½

- æˆå¸§: å°†æ¥è‡ªç½‘ç»œå±‚çš„ä½æµåˆ†å‰²ä¸ºå¸§ (frame)
- ç‰©ç†å¯»å€: **åœ¨æœ¬åœ°ç½‘ç»œèŒƒå›´å†…**, æŒ‰ç…§ç½‘ç»œè®¾å¤‡çš„ç‰©ç†åœ°å€å¯»æ‰¾æ¥æ”¶è€…, ä¾‹å¦‚ MAC åœ°å€
- æµé‡æ§åˆ¶: åè°ƒå‘é€é€Ÿç‡, é˜²æ­¢è¿‡è½½
- å·®é”™æ§åˆ¶: æ£€æµ‹ä¸é‡å‘æŸåä¸ä¸¢å¤±çš„å¸§, å¹¶é˜²æ­¢é‡å¤çš„å¸§
- è®¿é—®æ§åˆ¶: å¹¶å‘è®¿é—®åŒä¸€æ¡é“¾è·¯æ—¶å†³å®šè®¿é—®çš„é¡ºåº

##### ç½‘ç»œå±‚

**è´Ÿè´£å°†å„ä¸ªåˆ†ç»„ä»æºåœ°å€ä¼ é€åˆ°ç›®çš„åœ°å€ (æºç«¯åˆ°ç›®çš„ç«¯, å³ç«¯åˆ°ç«¯), å¯ä»¥è·¨ç½‘ç»œä¼ é€**, ä½†ä¸ä¿è¯æŠ¥æ–‡é—´çš„åˆ°è¾¾é¡ºåº - ~~æ‰€ä»¥å«ç½‘ç»œå±‚(ä¸ªäººç†è§£)~~

###### åŠŸèƒ½

- é€»è¾‘å¯»å€: ä¸ç‰©ç†å¯»å€ç›¸å¯¹, å¯ä»¥è·¨ç½‘ç»œ
- è·¯ç”±é€‰æ‹©: æä¾›åœ¨ç½‘ç»œé—´ä¼ é€’åˆ†ç»„çš„è·¯å¾„

##### ä¼ è¾“å±‚

**è´Ÿè´£æŠ¥æ–‡çš„è¿›ç¨‹åˆ°è¿›ç¨‹ä¼ é€’**, ä¿è¯æŠ¥æ–‡é—´çš„**é¡ºåº**ä¸å†…å®¹æ­£ç¡®å¹¶æä¾›ç»™ç›¸åº”çš„è¿›ç¨‹

###### åŠŸèƒ½

- æœåŠ¡ç‚¹å¯»å€: ä¹Ÿå«ç«¯å£å¯»å€, æŠŠæŠ¥æ–‡é€åˆ°å¯¹åº”ç«¯å£çš„è¿›ç¨‹ä¸­
- åˆ†æ®µå’Œç»„è£…: å°†è¿›ç¨‹å‘æ¥çš„é•¿æŠ¥æ–‡è¿›è¡Œåˆ‡åˆ†å¹¶æ ‡ä¸Šåºå·, ä¿è¯æ•°æ®çš„é¡ºåºæ­£ç¡®ä¸”ä¸ä¼šä¸¢å¤±
- è¿æ¥æ§åˆ¶: ä¼ è¾“å±‚å¯ä»¥æ˜¯é¢å‘è¿æ¥æˆ–è€…æ— è¿æ¥çš„, å¯¹å‰è€…åœ¨æ•°æ®å¼€å§‹ä¼ è¾“å‰éœ€è¦å»ºç«‹è¿æ¥
- æµé‡æ§åˆ¶: å’Œæ•°æ®é“¾è·¯å±‚ç±»ä¼¼, ä½†æ˜¯æ˜¯ç«¯å£åˆ°ç«¯å£çº§åˆ«çš„
- å·®é”™æ§åˆ¶: å’Œæ•°æ®é“¾è·¯å±‚ç±»ä¼¼, ä½†æ˜¯æ˜¯ç«¯å£åˆ°ç«¯å£çº§åˆ«çš„

##### ä¼šè¯å±‚

è´Ÿè´£å¯¹è¯æ§åˆ¶ (åŠåŒå·¥æˆ–è€…å…¨åŒå·¥) ä¸åŒæ­¥ (å¢åŠ æ£€æŸ¥ç‚¹ä»¥ä¾¿å¿«é€Ÿæ¢å¤)

##### è¡¨ç¤ºå±‚

è´Ÿè´£ç¿»è¯‘, å‹ç¼©ä¸åŠ å¯†æ•°æ®, æ˜¯ä¸¤ä¸ªç³»ç»Ÿé—´äº¤æ¢ä¿¡æ¯çš„è¯­ä¹‰å’Œè¯­æ³•

##### åº”ç”¨å±‚

**ä½¿ç”¨æˆ·å¯ä»¥è®¿é—®ç½‘ç»œ**, æä¾›äº†æœåŠ¡æ”¯æŒ, ä¾‹å¦‚æ–‡ä»¶ä¼ è¾“, é‚®ä»¶æœåŠ¡, è™šæ‹Ÿç»ˆç«¯ç­‰

### TCP/IP åè®®æ— [IMP]

TCP/IP åè®®æ—åœ¨ OSI æ¨¡å‹ä¹‹å‰å¼€å‘, æœ‰å››ä¸ªå±‚æ¬¡, ä¸¤è€…å¹¶ä¸ä¸¥æ ¼å¯¹åº”

#### å„å±‚åŠŸèƒ½

##### ä¸»æœºåˆ°ç½‘ç»œå±‚

**ç›¸å½“äº OSI çš„ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚**, TCP/IP æ”¯æŒæ‰€æœ‰çš„æ ‡å‡†ä¸ä¸“ç”¨åè®®, æ²¡æœ‰åœ¨è¿™ä¸€å±‚è¿›è¡Œä»»ä½•å®šä¹‰

##### äº’è”ç½‘å±‚

**ç›¸å½“äº OSI çš„ç½‘ç»œå±‚**, TCP/IP æ”¯æŒç½‘é™…åè®® (å³IP), åè€…ä½¿ç”¨å››ä¸ªæ”¯æŒåè®®: ARP, RARP, ICMP, IGMP

- IP: ç½‘é™…åè®®, æ˜¯æ— è¿æ¥, ä¸å¯é çš„å°½åŠ›ä¼ é€’æœåŠ¡, æ— å·®é”™æ£€æµ‹
- ARP: é€»è¾‘åœ°å€ -> ç‰©ç†åœ°å€
- RARP: ç‰©ç†åœ°å€ -> é€»è¾‘åœ°å€
- ICMP: å› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®®
- IGMP: å› ç‰¹ç½‘ç»„æŠ¥æ–‡åè®®, å®ç°ä¸€ä¸ªæŠ¥æ–‡åŒæ—¶å‘é€ç»™ä¸€ç»„æ¥æ”¶è€…

##### ä¼ è¾“å±‚

**ç›¸å½“äº OSI çš„ä¼ è¾“å±‚**, æœ‰ä¸‰ä¸ªåè®®: TCP ,UDP å’Œ SCTP (æµä¼ è¾“æ§åˆ¶åè®®)
TCP æ˜¯æœ‰è¿æ¥çš„å¯é çš„æµä¼ è¾“åè®®, UDP æ— è¿æ¥, ä¸å¯é 

##### åº”ç”¨å±‚

**ç›¸å½“äº OSI çš„ä¼šè¯å±‚, è¡¨ç¤ºå±‚å’Œåº”ç”¨å±‚**, å¸¸è§çš„ FTP, HTTP, SMTP ç­‰åè®®åœ¨è¿™ä¸€å±‚

### åœ°å€ä¸å¯»å€ [IMP]

åœ°å€æœ‰ç‰©ç†åœ°å€, é€»è¾‘åœ°å€, ç«¯å£åœ°å€, ä¸“ç”¨åœ°å€

#### ç‰©ç†åœ°å€

**åœ¨ç‰©ç†å±‚+æ•°æ®é“¾è·¯å±‚**, æœ€ä½çº§çš„åœ°å€, åœ¨æœ¬åœ°ç½‘ç»œä¸­æœ‰æ•ˆ, ä¸åŒç§ç±»ç½‘ç»œå¯èƒ½ä¸åŒ

#### é€»è¾‘åœ°å€

**åœ¨ç½‘ç»œå±‚**, ä¸ç‰©ç†åœ°å€**æ— å…³**, å”¯ä¸€å®šä¹‰äº†å› ç‰¹ç½‘çš„ä¸€å°ä¸»æœº
è·³åˆ°è·³æ—¶**ç‰©ç†åœ°å€æ”¹å˜** (å› ä¸ºé€šè¿‡äº†ä¸åŒçš„ç½‘ç»œè®¾å¤‡çš„ä¸­ç»§), ä½†æ˜¯**é€»è¾‘åœ°å€ä¸å˜** (å› ä¸ºé¢„æœŸçš„æ”¶å‘è€…å¯¹åº”çš„ä¸»æœºä¸å˜)

> åœ¨å¤šæ•°åè®®ä¸­, é€»è¾‘æºåœ°å€åœ¨é€»è¾‘ç›®çš„åœ°å€ä¹‹å‰, å’Œç‰©ç†åœ°å€åˆšå¥½ç›¸å

#### ç«¯å£åœ°å€

**åœ¨ä¼ è¾“å±‚**, ç«¯å£å¯¹åº”ä¸»æœºä¸Šçš„è¿›ç¨‹, æ˜¾ç„¶åœ¨è·³åˆ°è·³ä¼ é€’æ—¶ç«¯å£åœ°å€ä¹Ÿä¸å˜

#### ä¸“ç”¨åœ°å€

**åœ¨ç½‘ç»œå±‚**, ä¾‹å¦‚ç”µå­é‚®ä»¶åœ°å€, ç»Ÿä¸€èµ„æºå®šä½ç¬¦ (URL, ä¾‹å¦‚ç½‘å€)
ç”±å‘é€è®¡ç®—æœºè½¬æ¢æˆå¯¹åº”çš„ç«¯å£åœ°å€å’Œé€»è¾‘åœ°å€

# Part 2 ç‰©ç†å±‚ä¸ä»‹è´¨

æœ€æ ¸å¿ƒçš„ä¸¤ä¸ªå…¬å¼ - æ³¢é•¿ $\lambda$, æ³¢é€Ÿ $v$, å‘¨æœŸ $T$, é¢‘ç‡ $f$ ä¹‹é—´çš„å…³ç³»
$$\lambda = v \times T = \frac{v}{f}$$

$$T = \frac{1}{f}$$

å›½é™…å•ä½åˆ¶ä¸‹çš„é‡çº§è¡¨ç¤º

| è¯å¤´ | å•ä½ | è¯å¤´ | å•ä½ |
|----- |------|------|-----|
| æ¯« $m$   |$10^{-3}$ | åƒ $k$ |$10^{3}$   |
| å¾® $\mu$ |$10^{-6}$ | å…† $M$ |$10^{6}$   |
| çº³ $n$   |$10^{-9}$ | å‰ $G$ |$10^{9}$   |
| çš® $p$   |$10^{-12}$| å¤ª $T$ |$10^{12}$  |

## Chapter 3 æ•°æ®ä¸ä¿¡å·

### å…³äºé¢‘ç‡, é¢‘åŸŸä¸å¸¦å®½

é€šè¿‡å‚…é‡Œå¶åˆ†æ, å¯ä»¥å°†ä»»ä½•å¤åˆä¿¡å·åˆ†è§£ä¸ºä¸€ç³»åˆ—æ­£å¼¦æ³¢

å¯¹äºå‘¨æœŸå¤åˆä¿¡å·, æ­£å¼¦æ³¢çš„é¢‘ç‡æ˜¯ç¦»æ•£çš„; å¯¹äºéå‘¨æœŸå¤åˆä¿¡å·, æ­£å¼¦æ³¢çš„é¢‘ç‡æ˜¯è¿ç»­çš„

å°†åˆ†è§£åå¾—åˆ°çš„æ­£å¼¦æ³¢ç³»åˆ—è¡¨ç¤ºåˆ° é¢‘ç‡ - æŒ¯å¹… å›¾ä¸Š, å³å¾—é¢‘åŸŸå›¾

å¤åˆä¿¡å·åŒ…å«çš„é¢‘ç‡èŒƒå›´ç§°ä¸ºå¸¦å®½, å³ä¿¡å·æœ€é«˜é¢‘ç‡ä¸æœ€ä½é¢‘ç‡çš„å·®å€¼

### æ•°å­—ä¿¡å·ä¸ä¼ è¾“

æ•°å­—ä¿¡å·æ˜¯**å¸¦å®½æ— ç©·å¤§**çš„å¤åˆæ¨¡æ‹Ÿä¿¡å·, æ¯ä¸€ä¸ªç”µå¹³å¯ä»¥è¡¨ç¤ºå¤šä¸ªä½
$$æ¯ä¸ªç”µå¹³è¡¨ç¤ºçš„ä½çš„æ•°é‡ = \log_2{ç”µå¹³æ•°}$$

#### æ¯”ç‰¹ç‡

ä¸€ç§’é’Ÿå†…å‘é€çš„ä½æ•°, ä»¥ bps è¡¨ç¤º

#### ä½é•¿

ä¸€ä¸ªä½åœ¨ä¼ è¾“ä»‹è´¨ä¸Šçš„æŒç»­æ—¶é—´
$$ä½é•¿ = ä¼ æ’­é€Ÿåº¦ \times ä½çš„æŒç»­æ—¶é—´$$

#### ä¼ è¾“

##### åŸºå¸¦ä¼ è¾“

é€šè¿‡é€šé“**ç›´æ¥**å‘é€æ•°å­—ä¿¡å·, ä¸è½¬æ¢ä¸ºæ¨¡æ‹Ÿä¿¡å·, **éœ€è¦ä¸€ä¸ªä¸‹é™é¢‘ç‡ä¸º0çš„ä½é€šé€šé“**

###### å®½å¸¦å®½çš„ä½é€šé€šé“

åŸºæœ¬å¯ä»¥ä¿æŒæ•°å­—ä¿¡å·çš„å½¢çŠ¶, ä¾‹å¦‚åŒè½´ç”µç¼†å’Œå…‰çº¤

###### æœ‰é™å¸¦å®½çš„ä½é€šé€šé“

å‘é€çš„æ•°å­—ä¿¡å·éœ€è¦è¿‘ä¼¼æˆæ¨¡æ‹Ÿä¿¡å·,æ¯”ç‰¹ç‡ä¸º $N$ çš„æ•°å­—ä¿¡å·ä¼ è¾“æœ€å°éœ€è¦çš„å¸¦å®½ $B_{min}$ æ»¡è¶³

$$B_{min} = \frac{N}{2}$$

é€šè¿‡å¢åŠ æ›´å¤šè°æ³¢å¯ä»¥æ›´å¥½åœ°è¿‘ä¼¼

##### å®½å¸¦ä¼ è¾“

é€šè¿‡è°ƒåˆ¶æŠŠæ•°å­—ä¿¡å·è½¬æ¢æˆæ¨¡æ‹Ÿä¿¡å·ä¼ è¾“, å¯ä»¥ä½¿ç”¨å¸¦é€šé€šé“ (å¸¦å®½ä¸ä»é›¶å¼€å§‹çš„é€šé“)

#### ä¼ è¾“å‡æŸ [IMP]

##### è¡°å‡

èƒ½é‡çš„æŸå¤±, å¯ä»¥ä½¿ç”¨æ”¾å¤§å™¨æ¥è¡¥å¿

###### åˆ†è´

å®šä¹‰äº†ä¿¡å·æŸå¤±æˆ–è€…å¢ç›Šçš„ç›¸å¯¹å¼ºåº¦, å¯ä»¥ç›´æ¥åŠ å‡, è‹¥ $P_1$ $P_2$ ä¸ºä¿¡å·åœ¨ä¸¤ç‚¹å¤„çš„**åŠŸç‡**, åˆ™
$$dB = 10 * \log_{10}\frac{P_2}{P_1}$$

éœ€è¦è®°ä½çš„ç»“è®º:

- è¡°å‡ä¸ºè´Ÿ, æ”¾å¤§ä¸ºæ­£
- $-3dB$ æˆ–è€… $3dB$ è¡°å‡è¯´æ˜ä¿¡å·çš„åŠŸç‡è¡°å‡äº†ä¸€åŠ

åˆ†è´æœ‰æ—¶å€™ä¹Ÿè¢«ç”¨ä½œä»¥æ¯«ç“¦è®¡é‡ä¿¡å·åŠŸç‡çš„å•ä½, è¿™æ—¶ç§°ä½œ $dB_m$, $dB_m = 10 \times \log_{10}P_m$

##### å¤±çœŸ

ä¿¡å·æ”¹å˜äº†å½¢æ€æˆ–å½¢çŠ¶, äº§ç”Ÿåœ¨æœ‰ä¸åŒé¢‘ç‡æˆåˆ†çš„å¤åˆä¿¡å·ä¸­

##### å™ªå£°

ä¿¡å·åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«æºæ‚çš„éä¿¡å·æˆåˆ†

###### ä¿¡å™ªæ¯”

ä¿¡å·åŠŸç‡ä¸å™ªå£°åŠŸç‡çš„æ¯”å€¼, ç”¨ $SNR$ è¡¨ç¤º
$$SNR = \frac{å¹³å‡ä¿¡å·åŠŸç‡}{å¹³å‡å™ªå£°åŠŸç‡}$$

ä½¿ç”¨åˆ†è´å•ä½æè¿°ä¿¡å™ªæ¯”, è¢«ç§°ä¸º ${SNR}_{dB}$

$${SNR}_{dB} = 10 \times \log_{10}{SNR}$$

### æ•°æ®é€Ÿç‡é™åˆ¶ [IMP]

å–å†³äºä¸‰ä¸ªå› ç´ : æœ‰æ•ˆå¸¦å®½, ä½¿ç”¨çš„ä¿¡å·ç”µå¹³æ•°, ä¿¡é“çš„è´¨é‡ (å™ªå£°æœ‰å¤šå¤§)

ä¸‹é¢ $B$ è¡¨ç¤ºå¸¦å®½, $N$ è¡¨ç¤ºæ¯”ç‰¹ç‡, $L$ è¡¨ç¤ºä½¿ç”¨çš„ä¿¡å·ç”µå¹³çš„æ•°é‡, $SNR$ è¡¨ç¤ºä¿¡å™ªæ¯”

#### æ— å™ªå£°é€šé“: å¥ˆå¥æ–¯ç‰¹æ¯”ç‰¹ç‡

å¯¹æ— å™ªå£°é€šé“, å¥ˆå¥æ–¯ç‰¹æ¯”ç‰¹ç‡å…¬å¼ç»™å‡ºäº†ç†è®ºä¸Šçš„æœ€å¤§æ¯”ç‰¹ç‡:

$$N = 2 \times B \times \log_{2}L$$

åœ¨å¸¦å®½ä¸€å®šæ—¶, é€šè¿‡å¢åŠ  $L$ å¯ä»¥æé«˜ä¼ è¾“é€Ÿç‡, ä½†ä¼šè®©æ¥æ”¶æ–¹éš¾ä»¥åŒºåˆ†, é™ä½å¯é æ€§

#### æœ‰å™ªå£°é€šé“: é¦™å†œå®¹é‡å®šç†

é¦™å†œå®¹é‡å®šç†ç»™å‡ºäº†æœ‰å™ªå£°é€šé“çš„é€šé“å®¹é‡:
$$é€šé“å®¹é‡ = B \times \log_{2}{(1 + SNR)}$$

å…¬å¼ä¸ $L$ æ— å…³, è¯´æ˜æ— è®ºä½¿ç”¨å¤šå°‘ç”µå¹³éƒ½æ— æ³•è·å¾—è¶…è¿‡é€šé“å®¹é‡çš„æ•°æ®ä¼ è¾“é€Ÿç‡

$SNR$ å¾ˆå¤§æ—¶, æœ‰ $SNR \approx SNR+1$, æ‰€ä»¥é€šé“å®¹é‡å¯åŒ–ç®€ä¸º
$$é€šé“å®¹é‡ = B \times \frac{ {SNR}_\textbf{ {dB} } }{3}$$

æ³¨æ„æ­¤æ—¶ä½¿ç”¨çš„æ˜¯ **SNR ~dB~**

#### æ€»ç»“ [IMP]

é¦™å†œå®šç†ç»™å‡ºæ•°æ®ä¼ è¾“é€Ÿç‡çš„ä¸Šé™, å¥ˆå¥æ–¯ç‰¹å…¬å¼ç»™å‡ºæ‰€éœ€çš„ä¿¡å·ç”µå¹³æ•°

### æ€§èƒ½

#### å¸¦å®½

å¯ä»¥æŒ‡ä¸¤ä¸ªä¸œè¥¿: ä»¥é¢‘ç‡è¡¡é‡, æˆ–ä»¥ $bps$ è¡¡é‡
å‰è€…è¡¨æ˜é€šé“çš„é¢‘ç‡èŒƒå›´, åè€…è¡¨æ˜æ¯ç§’èƒ½å‘é€çš„ä½æ•°

#### ååé‡

è¡¡é‡é€šè¿‡ç½‘ç»œå‘é€æ•°æ®çš„å¿«æ…¢, å¿…å®šå°äºç­‰äºå¸¦å®½

#### å»¶è¿Ÿ

ç¬¬ä¸€ä¸ªä½ä»æºç«¯åˆ°æœ€åä¸€ä¸ªä½ (å³æ•´ä¸ªæŠ¥æ–‡) åˆ°è¾¾ç›®çš„ç«¯çš„æ—¶é—´, ç”±å››éƒ¨åˆ†ç»„æˆ

##### ä¼ æ’­æ—¶é—´

ä»‹è´¨ä¸­ä¸€ä¸ªä½ä»æºç«¯åˆ°ç›®æ ‡çš„æ—¶é—´

$$ä¼ æ’­æ—¶é—´ = \frac{è·ç¦»}{ä¼ æ’­é€Ÿåº¦}$$

##### ä¼ è¾“æ—¶é—´

æŠ¥æ–‡çš„ç¬¬ä¸€ä¸ªä½ä¸æœ€åä¸€ä¸ªä½ç¦»å¼€å‘é€æ–¹çš„æ—¶é—´, ä¹Ÿå°±æ˜¯å‘é€æ–¹æŠŠæŠ¥æ–‡åŠ è½½åˆ°ä»‹è´¨ä¸Šæ‰€ç”¨çš„æ—¶é—´
$$ä¼ è¾“æ—¶é—´ = \frac{æŠ¥æ–‡é•¿åº¦}{å¸¦å®½}$$

##### æ’é˜Ÿæ—¶é—´

ç½‘ç»œä¸Šæ¯ä¸ªä¸­é—´è®¾å¤‡åœ¨æ”¶åˆ°æœ¬æŠ¥æ–‡å, å¤„ç†æœ¬æŠ¥æ–‡å‰çš„æ—¶é—´ (å› ä¸ºæœ‰å…¶ä»–å…ˆåˆ°çš„æŠ¥æ–‡ç­‰å¾…å¤„ç†)

##### å¤„ç†å»¶è¿Ÿ

æ¥æ”¶è€…å¤„ç†æŠ¥æ–‡æ‰€ç”¨çš„æ—¶é—´ (ä¹¦ä¸Šä¸çŸ¥é“ä¸ºå•¥æ²¡å†™è¿™ç‚¹...)

#### å¸¦å®½ä¸å»¶è¿Ÿçš„ä¹˜ç§¯

å……æ»¡æ•´ä¸ªé“¾è·¯çš„ä½çš„ä¸ªæ•°

## Chapter 4 æ•°å­—ä¼ è¾“

### çº¿è·¯ç¼–ç 

#### æ•°æ®å…ƒç´ ä¸ä¿¡å·å…ƒç´  [IMP]

- æ•°æ®å…ƒç´ : è¡¨ç¤ºä¿¡æ¯çš„æœ€å°å®ä½“, å³ä½
- ä¿¡å·å…ƒç´ : å‘é€çš„æœ€å°å•å…ƒ

$r$: æ¯ä¸ªä¿¡å·å…ƒç´ æ‰¿è½½çš„æ•°æ®å…ƒç´ çš„æ•°é‡

##### æ•°æ®é€Ÿç‡ä¸ä¿¡å·é€Ÿç‡

- æ•°æ®é€Ÿç‡ $N$ : æ¯ç§’å‘é€çš„æ•°æ®å…ƒç´ çš„æ•°é‡, å•ä½æ˜¯ *æ¯ç§’ä½ (bps)*, ä¹Ÿç§°ä½œ**æ¯”ç‰¹ç‡**
- ä¿¡å·é€Ÿç‡ $S$ : æ¯ç§’å‘é€çš„ä¿¡å·å…ƒç´ çš„æ•°é‡, å•ä½æ˜¯ *æ³¢ç‰¹ (baud)*, ä¹Ÿç§°ä½œè°ƒåˆ¶é€Ÿç‡, **æ³¢ç‰¹ç‡**
- æƒ…å½¢å› å­ $c$ : ä¼šæ ¹æ®æ¯ç§æƒ…å½¢æ”¹å˜

$$S = c \times N \times \frac{1}{r} \ \ baud$$

$$B_{min} = c \times N \times \frac{1}{r}$$

æ³¨æ„ç¬¬äºŒä¸ªå…¬å¼å’Œå¥ˆå¥æ–¯ç‰¹å…¬å¼çš„å…³ç³» (å¯ä»¥ç›¸äº’æ¨å¯¼, ä¹¦ p69 ä¸­é—´ ä¾‹4.2)

#### åŸºçº¿åç§»

- åŸºçº¿åç§»: æ¥æ”¶æ–¹é€šè¿‡è®¡ç®—æ¥æ”¶çš„ä¿¡å·çš„åŠŸç‡å¹³å‡å€¼ (å³"åŸºçº¿") æ¥ç¡®å®šé«˜ä½ç”µå¹³, è¿ç»­çš„ 0 æˆ–è€… 1 ä¼šå½±å“åŸºçº¿
- ç›´æµæˆåˆ†: ä¿¡å·ä¸­çš„ç”µå¹³ä¿æŒä¸€å®šæ—¶é—´çš„æ’å®šæ—¶, ä¼šäº§ç”Ÿå¾ˆä½çš„é¢‘ç‡, è¿‘ä¼¼ç›´æµ (DC)

#### è‡ªåŒæ­¥

é€šè¿‡åœ¨ä¿¡å·ä¸­æ·»åŠ èƒ½æç¤ºæ¥æ”¶æ–¹çš„å®šæ—¶ä¿¡æ¯æ¥å®ç°åŒæ–¹çš„æ—¶é’ŸåŒæ­¥

### çº¿è·¯ç¼–ç  [IMP]

![ç¼–ç æ–¹æ¡ˆ](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210615193504.png)

#### NRZ (ä¸å½’é›¶ç¼–ç )

1 ä¸ºæ­£ç”µå¹³, 0 ä¸ºé›¶ç”µå¹³, å› ä¸ºåœ¨ä½ä¸­é—´ç”µå¹³ä¸ä¸ºé›¶è€Œå¾—å

##### NRZ-L ä¸ NRZ-I

![NRZ-L/I](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210615193725.png)

NRZ-L ä¸­ç”µå¹³å†³å®šä½çš„å€¼, NRZ-I ä¸­æ¯ä¸€ä¸ªå‘¨æœŸçš„ç”µå¹³å’Œå‰ä¸€ä¸ªå‘¨æœŸç›¸æ¯”æ˜¯å¦åè½¬å†³å®šä½çš„å€¼

- åŸºçº¿åç§»: å‡æœ‰, ä½† NRZ-I ä¸­ä»…å…¨ 0 çš„åºåˆ—ä¼šå¯¼è‡´åç§»
- åŒæ­¥é—®é¢˜: å‡æœ‰, ä½† NRZ-I ä¸­ä»…å…¨ 0 çš„åºåˆ—ä¼šå¯¼è‡´åŒæ­¥é—®é¢˜
- ç›´æµæˆåˆ†: å‡æœ‰
- å¹³å‡ä¿¡å·é€Ÿç‡: å‡ä¸º $N/2 \ {Bd}$

> å› ä¸ºå…¨ 0 æ—¶ NRZ-I çš„ç”µå¹³ä¸å˜, ä½†å…¨ 1 æ—¶èƒ½ä¸€ç›´åè½¬

#### RZ (å½’é›¶ç¼–ç )

![RZ](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210615194511.png)

åœ¨ä½ä¸­é—´ä¿¡å·å¿…å®šå½’é›¶, $r = \frac{1}{2}$

#### æ›¼å½»æ–¯ç‰¹ç¼–ç  å’Œ å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç 

![Manchester/DiffMan](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210615194637.png)

- åŒå‘ç¼–ç , ä¹Ÿç§°ä½œä¸¤é¡¹ç¼–ç 
- å‡æœ‰è‡ªåŒæ­¥ä¿¡å·
- å‡æ— ç›´æµæˆåˆ†
- å¹³å‡ä¿¡å·é€Ÿç‡: å‡ä¸º $N \ {Bd}$

##### æ›¼å½»æ–¯ç‰¹ç¼–ç 

- RZ å’Œ NRZ-L æ€æƒ³ç»„åˆè€Œæˆ
- ä½ä¸­é—´çš„è·³å˜æä¾›äº†è‡ªåŒæ­¥ä¿¡å·

##### å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç 

- RZ å’Œ NRZ-I æ€æƒ³ç»„åˆè€Œæˆ
- ä½ä¸­é—´çš„è·³å˜æä¾›äº†è‡ªåŒæ­¥ä¿¡å·

#### AMI å’Œ ä¼ªä¸‰å…ƒç¼–ç 

![AMI/Pseudo](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210615195837.png)

- åŒææ€§ç¼–ç , ä½¿ç”¨ä¸‰ç§ç”µå¹³ (æ­£, è´Ÿ, é›¶)
- 0 å’Œ 1 å…¶ä¸­ä¸€ä¸ªç”µå¹³å›ºå®šä¸º0, å¦ä¸€ä¸ªç”±äº¤æ›¿çš„æ­£è´Ÿç”µå¹³è¡¨ç¤º
- AMI æ²¡æœ‰ç›´æµæˆåˆ† (å› ä¸ºé•¿ 0 çš„ç”µå¹³ä¸ºé›¶, é•¿ 1 æ­£è´Ÿäº¤æ›¿æŠµæ¶ˆäº†)
- AMI åœ¨é•¿ 0 åºåˆ—ä¸­å­˜åœ¨åŒæ­¥é—®é¢˜, é‡‡ç”¨æ‰°åŠ¨è§£å†³
- å¹³å‡ä¿¡å·é€Ÿç‡: $N/2 \ {Bd}$

#### å¤šç”µå¹³ä¸å¤šçº¿è·¯ç¼–ç 

æŒ‰è€å¸ˆç»™çš„ pdf ä»…è¦æ±‚äº†è§£, çœ‹ä¹¦å°±è¡Œ

#### çº¿è·¯ç¼–ç  æ€»ç»“

![Summary](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210615200432.png)

> Biphase: åŒå‘, å³æ›¼å½»æ–¯ç‰¹ç¼–ç  å’Œ å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç 

### å—ç¼–ç 

æŒ‰è€å¸ˆç»™çš„ pdf ä»…è¦æ±‚äº†è§£, çœ‹ä¹¦å°±è¡Œ

### æ‰°ç 

å»ºè®®çœ‹ä¹¦ ğŸ˜µ, p79

### è„‰å†²ç è°ƒåˆ¶ (PCM)

å°†æ¨¡æ‹Ÿä¿¡å·è½¬ä¸ºæ•°å­—ä¿¡å·çš„æœ€å¸¸ç”¨æ–¹æ³•, åˆ†ä¸ºä¸‰æ­¥: **é‡‡æ ·  é‡åŒ–  ç¼–ç **

#### é‡‡æ ·

ä¹Ÿè¢«ç§°ä½œ è„‰å†²æŒ¯å¹…è°ƒåˆ¶ (PAM)

- é‡‡æ ·ç‡ $f_S$ : æ¯éš” $T_S$ å¯¹æ¨¡æ‹Ÿä¿¡å·è¿›è¡Œé‡‡æ ·, $f_S = \frac{1}{T_S}$
- å¥ˆå¥æ–¯ç‰¹é‡‡æ ·å®šç†: **é‡‡æ ·é€Ÿç‡è‡³å°‘æ˜¯ä¿¡å·æ‰€å«æœ€é«˜é¢‘ç‡çš„ä¸¤å€**

#### é‡åŒ–

1. å‡å®šåŸå§‹ä¿¡å·åœ¨ $[V_{min}, V_{max}]$ èŒƒå›´ä¸­
2. å°†èŒƒå›´ç­‰åˆ†ä¸º $L$ ä¸ªåŒºé—´ (ç§°ä¸ºé‡åŒ–ç­‰çº§), æ¯ä¸ªåŒºé—´çš„é•¿åº¦ä¸º $delta$

$$delta = \frac{V_{max} - V_{min}}{L}$$

3. å–æ¯ä¸ªåŒºé—´çš„ä¸­ç‚¹ä½œä¸ºæ¯ä¸ªåŒºé—´çš„é‡åŒ–å€¼, ç„¶åå°† $0 \sim L-1$ çš„é‡åŒ–å€¼åˆ†é…ç»™è¿™äº›åŒºé—´
4. å°†æ ·æœ¬çš„æŒ¯å¹…è¿‘ä¼¼ä¸ºé‡åŒ–å€¼

> å»ºè®®å‚è€ƒ p83 çš„ä¾‹å­

##### é‡åŒ–è¯¯å·®

- ä»»ä½•ä¸€ä¸ªæ ·æœ¬çš„è¯¯å·®å€¼éƒ½å°äº $\frac{delta}{2}$
- é‡åŒ–è¯¯å·®å¯¹ä¿¡å· ${SNR}_{dB}$ çš„å½±å“å–å†³äºé‡åŒ–çº§åˆ« $L$ æˆ–æ¯ä¸ªæ ·æœ¬çš„ä½æ•° $n_b$

$${SNR}_{dB} = 6.02\ n_b + 1.76 \ \ dB$$

#### ç¼–ç 

$$N = f_S \times n_b$$

$N$ ä¸ºç¼–ç åçš„æ¯”ç‰¹ç‡

#### Delta è°ƒåˆ¶

å¯¹é‡åŒ–åçš„ä¿¡å·, è°ƒåˆ¶å™¨å†…çš„æ¯”è¾ƒå™¨æŠŠå®ƒå’Œä¸€ä¸ªæ¢¯å½¢çš„åŸºå‡†ä¿¡å·è¿›è¡Œæ¯”è¾ƒ, å‰è€…å¤§åˆ™ä¸º 1, åä¹‹ä¸º 0.

æ¢¯å½¢åŸºå‡†ä¿¡å·æ¥è‡ªäºè°ƒåˆ¶å™¨è‡ªèº«çš„è¾“å‡º, 1 ä¸ºä¸Šå‡, 0 ä¸ºä¸‹é™, å˜åŒ–é‡å³ä¸º $delta$, ç»è¿‡å»¶è¿Ÿåé€å…¥æ¯”è¾ƒå™¨.

Delta è°ƒåˆ¶åŒæ ·å­˜åœ¨é‡åŒ–è¯¯å·®, ä½†æ˜¯è¿œå°äº PCM çš„è¯¯å·®.

### ä¼ è¾“æ¨¡å¼ [IMP]

#### ä¸²è¡Œä¸å¹¶è¡Œ

- å¹¶è¡Œ: åˆ©ç”¨å¤šä¸ªé€šé“, æ¯æ¬¡å‘é€å¤šä¸ªä½
- ä¸²è¡Œ: ä»…éœ€ä¸€ä¸ªé€šé“, æ¯æ¬¡ä»…å‘é€ä¸€ä¸ªä½, å¯é‡‡ç”¨åŒæ­¥, å¼‚æ­¥æˆ–ç­‰æ—¶ä¼ è¾“

#### åŒæ­¥ä¸å¼‚æ­¥

- å¼‚æ­¥: å°†ä½æµç»„åˆæˆç»„ (é€šå¸¸ç§°ä¸ºå­—èŠ‚), éœ€è¦èµ·å§‹ä½å’Œåœæ­¢ä½, ä¸éœ€è¦å…³å¿ƒæ—¶åº
- åŒæ­¥: å°†ä½æµç»„åˆæˆå¸§ (æ›´é•¿, åŒ…å«å¤šä¸ªå­—èŠ‚), æ²¡æœ‰æ—¶éš™, èµ·å§‹ä½ä¸åœæ­¢ä½
- ç­‰æ—¶: æ•°æ®ä»¥æ’å®šé€Ÿç‡åˆ°è¾¾

## Chapter 5 æ¨¡æ‹Ÿä¼ è¾“

![AnalogTrans](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210616184347.png)

### æ¯”ç‰¹ç‡å’Œæ³¢ç‰¹ç‡ [IMP]

å®šä¹‰å¸¦å®½ä¸º $B$

- æ¯”ç‰¹ç‡: æ•°æ®é€Ÿç‡, $N$
- æ³¢ç‰¹ç‡: ä¿¡å·é€Ÿç‡, $S$

$$S=N \times \frac{1}{r} \ \ æ³¢ç‰¹$$

$$r = \log_2{L},\  Lä¸ºä¿¡å·å…ƒç´ çš„ç§ç±»æ•°$$

### å¹…ç§»é”®æ§ (ASK) [IMP]

![ASK](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210616184439.png)

- ä»…é€šè¿‡æ”¹å˜ä¿¡å·çš„æŒ¯å¹…æ¥ç”Ÿæˆä¿¡å·å…ƒç´ , ä¸æ”¹å˜é¢‘ç‡ ç›¸ä½ç­‰
- è‹¥ä»…æœ‰ä¸¤ä¸ªæŒ¯å¹…, åˆ™ç§°ä¸º BASK (äºŒè¿›åˆ¶ ASK) æˆ– OOK (å¼€å…³é”®æ§)
- å¸¦å®½: $B=(1+d) \times S$, $d \in [0, 1]$ , å–å†³äºè°ƒåˆ¶å’Œè¿‡æ»¤å¤„ç†
- è½½æ³¢é¢‘ç‡ $f_c$ ä½äºå¸¦å®½ä¸­é—´

### é¢‘ç§»é”®æ§ (FSK) [IMP]

![FSK](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210616184518.png)

- ä½¿ç”¨å¤šç§é¢‘ç‡, ä¸€ç§æŒ¯å¹…, è‹¥ç›¸é‚»ä¸¤ä¿¡å·å…ƒç´ é—´ç›¸ä½ä¸€è‡´, ç§°ä¸º"ç›¸å¹²", åä¹‹ä¸º"éç›¸å¹²"
- è‹¥ä»…æœ‰ä¸¤ä¸ªé¢‘ç‡, åˆ™ç§°ä¸º BFSK (äºŒè¿›åˆ¶ FSK)
- å¸¦å®½: $B=(1+d) \times S + 2Df$, $2Df$ ä¸ºä¸¤ä¸ªè½½æ³¢é¢‘ç‡ä¹‹å·®, æœ€å°å³ä¸º $S$ (æ­¤æ—¶ä¸¤ä¸ªæ®µç´§è´´)

### ç›¸ç§»é”®æ§ (PSK) [IMP]

#### äºŒè¿›åˆ¶PSK (BPSK)

![BPSK](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210616185709.png)

- ä»…ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„ç›¸ä½: $0 \degree$ å’Œ $180 \degree$
- å¸¦å®½: $B=(1+d) \times S$, å’Œ BASK ä¸€æ ·, ä½†æŠ—å™ªå£°èƒ½åŠ›æ›´å¼º

#### æ­£äº¤PSK (QPSK)

- ä½¿ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„ BPSK è°ƒåˆ¶, ä¸€ä¸ªåŒç›¸ä¸€ä¸ªæ­£äº¤ (å³ $90\degree$)
- å¸¦å®½: $B=(1+d) \times S$, å’Œ BFSK ä¸€æ ·
- $L=4, \ r = 2$

#### æ˜Ÿåº§å›¾

![Constellation](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210616190219.png)

- X è½´ä¸ºåŒç›¸æˆåˆ†æŒ¯å¹…, Y è½´ä¸ºæ­£äº¤æˆåˆ†æŒ¯å¹…
- ä¸åŸç‚¹è·ç¦»ä¸ºæ€»æŒ¯å¹…, ä¸ X è½´æ­£åŠè½´å¤¹è§’ä¸ºç›¸ä½

### æ­£äº¤æŒ¯å¹…è°ƒåˆ¶ (QAM) [IMP]

- ç»“åˆäº† ASK å’Œ PSK çš„ç†å¿µ, åŒæ—¶åˆ©ç”¨äº†æŒ¯å¹…å’Œç›¸ä½çš„å˜åŒ–
- æœ€å°å¸¦å®½: å’Œ ASK, PSK ç›¸åŒ (å¿˜äº†çš„è¯å¾€å‰çœ‹çœ‹)

### æ¨¡æ‹Ÿä¿¡å·è°ƒåˆ¶

AM, FM, PM, æçº²å®Œå…¨æ²¡æ, è‡ªå·±çœ‹ä¸€ä¸‹ä¹¦ p99 ~ p102 å°±è¡Œ

## Chapter 6 å¸¦å®½åˆ©ç”¨

### FDM (é¢‘åˆ†å¤ç”¨) [IMP]

- åœ¨åŒä¸€ä»‹è´¨ä¸Šä½¿ç”¨ä¸åŒçš„é¢‘ç‡ä¼ è¾“ä¿¡å·
- æ˜¯æ¨¡æ‹Ÿå¤ç”¨æŠ€æœ¯ (ç›´æ¥å‘é€çš„æ˜¯æ¨¡æ‹Ÿä¿¡å·, å› æ­¤æ•°å­—ä¿¡å·éœ€è¦å…ˆè°ƒåˆ¶)
- åœ¨åˆ†ç¦»æ—¶é€šè¿‡ç‰¹å®šé¢‘æ®µçš„æ»¤æ³¢å™¨å®ç°é€šé“åˆ†ç¦»
- å¤ç”¨çš„è¦æ±‚
  - é“¾è·¯å¸¦å®½å¤§äºè¦ä¼ è¾“çš„ä¿¡å·å¸¦å®½ä¹‹å’Œ
  - è½½æ³¢ä¿¡å·ä¹‹é—´çš„é¢‘ç‡å·®å¿…é¡»èƒ½å®¹çº³è°ƒåˆ¶ä¿¡å·çš„å¸¦å®½ (ä¸å‘ç”Ÿé‡å )
  - è½½æ³¢é¢‘ç‡ä¸å½±å“åŸå§‹çš„æ•°æ®é¢‘ç‡

### TDM (æ—¶åˆ†å¤ç”¨) [IMP]

- æ•°å­—åŒ–å¤ç”¨è¿‡ç¨‹
- æ¯ä¸ªè¿æ¥å ç”¨é“¾è·¯çš„ä¸€ä¸ªæ—¶é—´æ®µ
  
#### åŒæ­¥ TDM

![S-TDM](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617185037.png)

- æ¯ä¸ªè¾“å…¥çš„æ•°æ®æµåˆ’åˆ†ä¸ºå¤šä¸ªæ•°æ®å•å…ƒ
- æ‰€æœ‰è¾“å…¥çš„æ•°æ®å•å…ƒæŒ‰ç…§é¡ºåºç»„åˆæˆä¸€ä¸ªå¸§, æ¯ä¸ªæ•°æ®å•å…ƒå ä¸€ä¸ª**æ—¶éš™**
- è‹¥æœ‰ $n$ ä¸ªè¾“å…¥, ä¸€å¸§çš„æŒç»­æ—¶é—´ä¸º $T$:
  - ä¸€å¸§ä¸­æœ‰ $n$ ä¸ªæ—¶éš™
  - æ¯ä¸ªæ—¶éš™çš„æŒç»­æ—¶é—´æ˜¯ $T/n$
  - é“¾è·¯é€Ÿç‡æ˜¯æ¯ä¸ªè¿æ¥æ•°æ®é€Ÿç‡çš„ $n$ å€
- éœ€è¦åœ¨æ¯å¸§å¼€å§‹çš„æ—¶å€™æ·»åŠ ä¸€äº›ç”¨æ¥åŒæ­¥çš„**å¸§æŒ‡ç¤ºä½**
- ç¼ºç‚¹: å½“æŸä¸ªè¿æ¥æ— æ•°æ®å‘é€æ—¶ä¼šå‡ºç°**ç©ºæ—¶éš™**

##### T-1 å¸§ [IMP]

- å°† 24 è·¯è¯­éŸ³ä¿¡å·é€šè¿‡ TDM ç»„åˆä¸º 1 è·¯
- é‡‡æ ·: æ¯ç§’ 8000 æ¬¡, æ¯æ ·æœ¬ 8 ä½
- æ¯ç§’å‘é€ 8000 å¸§, é“¾è·¯å¸¦å®½ 1.544 Mbps
  
å¸§å¤§å°: 193ä½, å…¶ä¸­ 1 ä½ç”¨äºåŒæ­¥
$$\overbrace{24}^{é€šé“æ•°} \times \overbrace{8}^{æ ·æœ¬å¤§å°} + \overbrace{1}^{åŒæ­¥ä½} = 193$$

å¸¦å®½: 1.544 Mbps
$$193 \ bps \times \overbrace{8000}^{æ¯ç§’å¸§æ•°} = 1.544 \ Mbps$$

##### E çº¿è·¯

T çº¿è·¯çš„æ¬§æ´²ç‰ˆæœ¬, åŸç†ä¸æ¦‚å¿µç›¸åŒ, ä½†æ˜¯å®¹é‡ä¸åŒ

#### ç»Ÿè®¡ TDM

![Stat-TDM](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617191722.png)

- å¾ªç¯æ£€æµ‹æ¯ä¸ªè¾“å…¥, è‹¥æŸè¾“å…¥æ— æ•°æ®åˆ™ä¸åˆ†é…æ—¶éš™ -> é¿å…äº†ç©ºæ—¶éš™
- æ¯ä¸ªæ—¶éš™éœ€è¦æ·»åŠ åœ°å€, $n$ ä¸ªè¾“å…¥éœ€è¦ $\log_2{n}$ ä½åœ°å€
- **æ²¡æœ‰åŒæ­¥ä½, å› ä¸ºç»Ÿè®¡ TDM ä¸ä¾èµ–æ—¶é—´åŒæ­¥æ¥æ‹†åˆ†æ•°æ®**
- é“¾è·¯å®¹é‡å¯ä»¥å°äºè¾“å…¥çš„å¸¦å®½ä¹‹å’Œ (å› ä¸ºæ— æ•°æ®å°±ä¸åˆ†é…æ—¶éš™äº†)

### WDM (æ³¢åˆ†å¤ç”¨)

ä»¥å…‰çº¿ä¸ºä»‹è´¨, é€šè¿‡ä¸åŒæ³¢é•¿çš„é¢‘ç‡å®ç°å¤ç”¨, å’Œ FDM ç±»ä¼¼

### æ‰©é¢‘

#### è·³é¢‘æ‰©é¢‘ (FHSS)

![FHSS](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617192640.png)

- é€šè¿‡ä¼ªéšæœºå™ªå£°åœ¨é¢‘ç‡è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªé¢‘ç‡
- åœ¨ä¸€æ®µæ—¶é—´å†… (ç§°ä¸ºè·³), å°†æºä¿¡å·ä½¿ç”¨é€‰å‡ºçš„é¢‘ç‡è¿›è¡Œè°ƒåˆ¶
- ä¼ªéšæœºå™ªå£°å‘¨æœŸæ€§é‡å¤
- é€šè¿‡å¤šé¢‘ç‡FSKå¯ä»¥å®ç°å¸¦å®½å…±äº«

#### ç›´æ¥åºåˆ—æ‰©é¢‘

![DSSS](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617193003.png)

- ä½¿ç”¨å›ºå®šçš„æ‰©é¢‘ç å¯¹æºä¿¡å·è¿›è¡Œè°ƒåˆ¶
- æ¯ä¸ªæ•°æ®ä½ä½¿ç”¨æ‰©é¢‘ç çš„nä½ä»£æ›¿

## Chapter 7 ä¼ è¾“ä»‹è´¨

### æœ‰å‘ä»‹è´¨

- åœ¨è®¾å¤‡é—´æä¾›é€šè·¯çš„ä»‹è´¨
- åŒ…æ‹¬åŒç»çº¿, åŒè½´ç”µç¼†, å…‰ç¼†

#### åŒç»çº¿ [IMP]

- ç”±ä¸¤æ¡å¯¼çº¿ç¼ ç»•åœ¨ä¸€èµ·ç»„æˆ
- é€šè¿‡ç¼ ç»•å¯ä»¥ä¿è¯ä¸¤æ¡çº¿å—åˆ°çš„å¤–éƒ¨å½±å“ (ä¾‹å¦‚å™ªå£°) ä¸€è‡´, æ•…ç»åˆå¯†åº¦è¶Šé«˜è´¨é‡è¶Šé«˜
- åˆ†ä¸ºéå±è”½åŒç»çº¿ (UTP) å’Œå±è”½åŒç»çº¿ (STP), å‰è€…æ›´å¸¸ç”¨, åè€…ç”¨é‡‘å±å±è”½å±‚åŒ…è£¹æ¯ä¸€å¯¹åŒç»çº¿
- æœ€å¸¸ç”¨çš„è¿æ¥å™¨æ˜¯ RJ45 (å°±æ˜¯æœ€å¸¸è§çš„é‚£ä¸ªç½‘çº¿æ¥å¤´, 8æ ¹çº¿)

#### åŒè½´çº¿ç¼†

![CCable](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617210129.png)

- ä»…ä½¿ç”¨ä¸­å¤®çš„ä¸€æ ¹å®å¿ƒ (æˆ–è€…æ˜¯å¤šè‚¡ç»åˆçš„é‡‘å±ä¸) å¯¼ä½“, å¤–é¢æœ‰é‡‘å±å±è”½å±‚
- ä½¿ç”¨ BNC è¿æ¥å™¨, å¸¦å®½é«˜ä½†è¡°å‡å¤§

#### å…‰çº¤

![Fiber](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617210412.png)

- é€šè¿‡ä¼ å¯¼å…‰å®ç°é€šä¿¡, å¸¦å®½å¾ˆå¤§
- åˆ†ä¸ºå•æ¨¡å…‰çº¤å’Œå¤šæ¨¡å…‰çº¤
  - å•æ¨¡: å…‰æŸæ¥è¿‘æ°´å¹³, å‡ ä¹å‡æ²¿ä¸­é—´ä¼ æ’­
  - å¤šæ¨¡: å¤šä¸ªå…‰æŸæ²¿ç€ä¸åŒè·¯å¾„, ä¾èµ–æŠ˜å°„

### æ— çº¿é€šä¿¡

![ElecSpectrum](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617210557.png)

- æ— çº¿ç”µæ³¢: 3 kHz ~ 1 GHz, å¤§éƒ¨åˆ†å…¨æ–¹å‘
- å¾®æ³¢: 1 GHz ~ 300 GHz, æŒ‡å‘æ€§å¼º, ä½¿ç”¨å•å‘å¤©çº¿ (å®šå‘å¤©çº¿)
- çº¢å¤–: 300 GHz ~ 400 THz, è§†çº¿ä¼ æ’­, å¤ªé˜³ä¼šå¹²æ‰°

## Chapter 8 äº¤æ¢

### ç”µè·¯äº¤æ¢ [IMP]

![CircuitExchange](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617211550.png)

![CircuitExchange](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617211411.png)

- åœ¨ç‰©ç†å±‚, ç”±ç‰©ç†é“¾è·¯è¿æ¥çš„ä¸€ç»„äº¤æ¢æœºç»„æˆ, é“¾è·¯ä¼šè¢«å¤ç”¨
- åœ¨é€šä¿¡å¼€å§‹å‰è¦é¢„å…ˆå»ºç«‹é€šé“, åœ¨æ•´ä¸ªä¼ è¾“è¿‡ç¨‹ä¸­ä¸€ç›´ä¿ç•™, ç›´åˆ°æœ€åçš„æ‹†é™¤é˜¶æ®µ
- æ•°æ®ä¼ è¾“æœŸé—´æ— éœ€å¯»å€, å»ºç«‹æ—¶éœ€è¦ç«¯åˆ°ç«¯çš„å¯»å€
- å»¶è¿Ÿ:
  - æºè®¡ç®—æœºè¯·æ±‚ä¿¡æ¯åˆ°ç›®æ ‡è®¡ç®—æœº
  - ç›®æ ‡è®¡ç®—æœºç¡®è®¤ä¿¡æ¯åˆ°æºè®¡ç®—æœº
  - æ•°æ®ä¼ è¾“æ—¶é—´
  - æ‹†é™¤ä¿¡æ¯ä»ä¸€ç«¯åˆ°å¦ä¸€ç«¯çš„æ—¶é—´

### æ•°æ®æŠ¥äº¤æ¢ [IMP]

![DatagramExchange](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617212244.png)

![DatagramExchange](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617212312.png)

- åœ¨ç½‘ç»œå±‚, **æ˜¯å› ç‰¹ç½‘åœ¨ç½‘ç»œå±‚é‡‡ç”¨çš„äº¤æ¢æ–¹æ³•**
- ä¸éœ€è¦å»ºç«‹è¿æ¥, ä¹Ÿä¸éœ€è¦æ‹†é™¤ (ä¹Ÿè¢«ç§°ä½œæ— è¿æ¥ç½‘ç»œ, äº¤æ¢æœºä¸ä¿å­˜è¿æ¥ä¿¡æ¯), æŒ‰éœ€åˆ†é…èµ„æº, å…ˆæ¥å…ˆæœåŠ¡
- å„åˆ†ç»„å•ç‹¬å¤„ç† (å³ä½¿æŸä¸ªåˆ†ç»„æ˜¯æŸä¸ªå¤šåˆ†ç»„ä¼ è¾“çš„ä¸€éƒ¨åˆ†), åˆ°è¾¾åŒä¸€ç›®çš„åœ°çš„è·¯å¾„å¯èƒ½ä¸ä¸€è‡´
  - å¯èƒ½ä¼šå‡ºç°åˆ†ç»„ä¸¢å¤±æˆ–é”™åº, ç”±ä¸Šå±‚åè®®è´Ÿè´£ä¿®æ­£
- äº¤æ¢æœºä½¿ç”¨åŸºäºç›®çš„åœ°å€çš„è·¯ç”±è¡¨, å®ƒè®°è½½äº†ç›®çš„åœ°å€å’Œäº¤æ¢æœºç«¯å£çš„å¯¹åº”å…³ç³»
- å»¶è¿Ÿ:
  - å„äº¤æ¢æœºçš„æ’é˜Ÿä¸å¤„ç†å»¶è¿Ÿ
  - ä¼ è¾“æ—¶é—´

### è™šç”µè·¯ç½‘ç»œ [IMP]

> å»ºè®®çœ‹ä¹¦, p143 ~ p147, æçº²ä»…ä½œä¸ºæ€»ç»“

- ç»“åˆäº†ç”µè·¯äº¤æ¢ä¸æ•°æ®æŠ¥äº¤æ¢
- é€šå¸¸åœ¨æ•°æ®é“¾è·¯å±‚å®ç°, ä½†æœªæ¥å¯èƒ½å˜åŒ–
- éœ€è¦åœ¨æ•°æ®ä¼ è¾“å‰å»ºç«‹è¿æ¥

#### ç¼–å€

- å…¨å±€ç¼–å€: æºç«¯å’Œç›®çš„ç«¯çš„åœ°å€, å¹¿åŸŸç½‘å”¯ä¸€
- è™šç”µè·¯æ ‡è¯†ç¬¦: ä»…åœ¨ä¸¤äº¤æ¢æœºé—´æœ‰æ•ˆ, ä½œä¸ºå¸§å‰çš„æ ‡è¯†ç¬¦
- äº¤æ¢æœºçš„è¡¨: ä¸æ˜¯è·¯ç”±è¡¨, æœ‰å››åˆ—: è¾“å…¥ç«¯å£, è¾“å…¥VCI, è¾“å‡ºç«¯å£, è¾“å‡ºVCI

#### è¿æ¥å»ºç«‹

è®¾æºç«¯ä¸º A, ç›®çš„ç«¯ä¸º B

![setup1](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617214418.png)

1. A å‘äº¤æ¢æœº 1 å‘é€å»ºç«‹è¿æ¥å¸§
2. äº¤æ¢æœº1ä»ç«¯å£1æ¥å—å¸§, åˆ†é…ä¸€ä¸ªVCI, é€šè¿‡è·¯ç”±è¡¨å¾—åˆ°åº”å‘å¾€ç«¯å£3, ä½†è¾“å‡ºVCIç•™ç©º
3. äº¤æ¢æœº2~3ç›¸åŒ

![setup2](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210617214431.png)

4. B æ”¶åˆ°å»ºç«‹è¿æ¥å¸§, ç»™ä» A æ¥çš„å¸§åˆ†é…ä¸€ä¸ªVCI, å‘ç»™äº¤æ¢æœº3
5. äº¤æ¢æœº3æ¥å—, å¾—åˆ°è¡¨ä¸­ç¼ºå¤±çš„VCIé¡¹, å‘ç»™äº¤æ¢æœº2
6. äº¤æ¢æœº1~2ç›¸åŒ, A æ”¶åˆ°ç¡®è®¤, ä¹‹åå‘ B å‘é€çš„å¸§ä½¿ç”¨äº¤æ¢æœº1æŒ‡å®šçš„VCI, è¿æ¥å»ºç«‹

#### è¿æ¥æ‹†é™¤

åŒæ ·æ˜¯è¯·æ±‚ - ç¡®è®¤ä¸¤æ­¥

#### å»¶è¿Ÿ

ç±»ä¼¼æ•°æ®æŠ¥äº¤æ¢, å»ºç«‹ + ä¼ è¾“ + æ‹†é™¤, å¦‚æœé¢„ç•™èµ„æºçš„è¯æ²¡æœ‰ç­‰å¾…å»¶è¿Ÿ

### äº¤æ¢æœºç»“æ„

æçº²æ²¡æœ‰, çœ‹ä¸¤çœ¼ä¹¦å°±è¡Œ

### Chapter 9 ä½¿ç”¨ç”µè¯ç½‘å’Œæœ‰çº¿ç”µè§†ç½‘è¿›è¡Œæ•°æ®ä¼ è¾“

#### ä¿¡ä»¤çš„æ¦‚å¿µ [IMP]

> ä¿¡ä»¤: æŒ‡ä¸ºä½¿é€šä¿¡ç½‘ä¸­å„ç§è®¾å¤‡åè°ƒè¿ä½œï¼Œåœ¨è®¾å¤‡ä¹‹é—´ä¼ é€’çš„æœ‰å…³æ§åˆ¶ä¿¡æ¯
> \- æ¥è‡ªç»´åŸºç™¾ç§‘

ç®€å•æ¥è¯´, ä¿¡ä»¤å°±æ˜¯ç”¨æ¥æ§åˆ¶è®¾å¤‡çš„æŒ‡ä»¤ä¿¡æ¯

- å¸¦å†…ä¿¡ä»¤: ç”¨å’Œæ•°æ®é€šä¿¡åŒä¸€é“¾è·¯ä¼ é€’çš„ä¿¡ä»¤
- å¸¦å¤–ä¿¡ä»¤: å’Œæ•°æ®é€šä¿¡ç”¨ä¸åŒé“¾è·¯ä¼ é€’çš„ä¿¡ä»¤, æ˜¯ç°ä»£ç”µè¯ç½‘é‡‡ç”¨çš„æ–¹å¼

#### è°ƒåˆ¶ä¸è§£è°ƒ

- è°ƒåˆ¶: ä»äºŒè¿›åˆ¶æ•°æ®ç”Ÿæˆå¸¦é€šæ¨¡æ‹Ÿä¿¡å·
- è§£è°ƒ: ğŸ‘† åè¿‡æ¥
- è°ƒåˆ¶è§£è°ƒå™¨: è°ƒåˆ¶å™¨ + è§£è°ƒå™¨, modem

#### ADSL (éå¯¹ç§°æ•°å­—ç”¨æˆ·çº¿è·¯)

- å±äº DSL æŠ€æœ¯ä¹‹ä¸€
- ä¸‹è¡Œé€Ÿç‡æ¯”ä¸Šè¡Œå¿« (æ‰€ä»¥æ˜¯éå¯¹ç§°)
- éœ€è¦è°ƒåˆ¶è§£è°ƒå™¨

# Part 3 æ•°æ®é“¾è·¯å±‚

## Chapter 10 æ£€é”™ä¸çº é”™

### å·®é”™çš„ç±»å‹

- å•ä¸ªä½å·®é”™: åœ¨ç»™å®šçš„æ•°æ®å•å…ƒä¸­åªæœ‰ä¸€ä¸ªä½å‡ºé”™
- çªå‘æ€§å·®é”™: åœ¨ç»™å®šçš„æ•°æ®å•å…ƒä¸­æœ‰ä¸¤ä½æˆ–æ›´å¤šä½å‡ºé”™

### å—ç¼–ç 

æŠŠæŠ¥æ–‡åˆ’åˆ†ä¸ºå—, æ¯ä¸ªå—æœ‰ $k$ ä½, å¹¶å¢åŠ  $r$ ä¸ªå†—ä½™ä½

æ€»é•¿åº¦: $n=k+r$, $n$ ä½çš„å—ç§°ä¸ºç å­—

### çº é”™

- å‘å‰çº é”™: æ¥æ”¶æ–¹åˆ©ç”¨å†—ä½™ä½æ¨æµ‹æ­£ç¡®çš„æŠ¥æ–‡
- é‡ä¼ : æ£€æµ‹å‡ºå·®é”™åè¦æ±‚å‘é€æ–¹é‡å‘

#### æ±‰æ˜è·ç¦»

ä¸¤ä¸ªç›¸åŒé•¿åº¦çš„å­—ä¸­å¯¹åº”ä½ç½®çš„ä½ä¸åŒçš„æ•°é‡, ä»¥ $d(x,\ y)$ è¡¨ç¤º

å¯ä»¥é‡‡ç”¨å¼‚æˆ–åè®¡ç®— 1 çš„ä¸ªæ•°æ±‚å¾—

#### æœ€å°æ±‰æ˜è·ç¦» [IMP]

æ‰€æœ‰å­—ä¸¤ä¸¤ç»„åˆæ±‚å¾—çš„æ±‰æ˜è·ç¦»çš„æœ€å°å€¼

- ä¸ºäº†æ£€æµ‹æœ€å¤š $s$ ä¸ªå·®é”™, å—ç¼–ç ä¸­æœ€å°æ±‰æ˜è·ç¦»ä¸€å®šæ»¡è¶³ $d_{min} \ge s+1 $
- ä¸ºäº†çº æ­£æœ€å¤š $t$ ä¸ªå·®é”™, å—ç¼–ç ä¸­æœ€å°æ±‰æ˜è·ç¦»ä¸€å®šæ»¡è¶³ $d_{min} \ge 2t+1 $

### çº¿æ€§å—ç¼–ç 

#### ç®€å•å¥‡å¶æ ¡éªŒ

æ·»åŠ ä¸€ä½, ä½¿å¾—ç å­—ä¸­çš„ 1 ä¸ºå¶æ•° (æˆ–å¥‡æ•°)

#### äºŒç»´å¥‡å¶æ ¡éªŒ

æ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—å‡è¿›è¡Œä¸€æ¬¡å¥‡å¶æ ¡éªŒ, åŒæ—¶è§’è½ä¸Šçš„é‚£ä¸ªæŒ‰ç…§åˆ—è¿›è¡Œæ ¡éªŒ

å››ä½å·®é”™å¯èƒ½æ£€æµ‹ä¸åˆ°

#### æ±‰æ˜ç¼–ç 

çœ‹è®¡ç»„ä¹¦å§, è¿™é‡Œå¯¹è®¡ç½‘æ¥è¯´ä¸æ˜¯é‡ç‚¹

### å¾ªç¯å†—ä½™æ ¡éªŒ (CRC)

å‡è®¾æœ‰ $k$ ä½æ•°æ®, $n$ ä½ç å­—, æ ¡éªŒç æœ‰ $n-k$ ä½

#### è®¡ç®— [IMP]

1. å°†æ•°æ®å­—å³ä¾§è¡¥ $n-k$ ä½é›¶
2. å¯¹ 1 çš„ç»“æœé™¤ä»¥é™¤æ•°
   - å› ä¸ºæ˜¯æ¨¡ 2 çš„äºŒè¿›åˆ¶é™¤æ³•, æ‰€ä»¥åŠ å‡éƒ½ç­‰ä»·äºå¼‚æˆ–è¿ç®—
   - è‹¥æœ€å·¦ä¾§çš„ä½ä¸º 0, åˆ™å•† 0, å¦åˆ™å•† 1
   - æ¯ä¸€æ­¥ä¿ç•™å $n-k-1$ ä½, ç„¶åæœ€åä¸€ä½ä»è¢«é™¤æ•°ä¸­å¯¹åº”ä½ç½®ç§»ä¸‹æ¥  

3. å½“æ²¡æœ‰å¯ç§»ä¸‹æ¥çš„ä½æ—¶, è®¡ç®—å®Œæˆ, ä½™æ•°å³ä¸ºç»“æœ

![CRC](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210618003752.png)

##### å¤šé¡¹å¼é™¤æ³•

- æ¯ä¸€é¡¹çš„å¹‚æ¬¡è¡¨ç¤ºåœ¨äºŒè¿›åˆ¶è¡¨ç¤ºæ³•ä¸­å¯¹åº”çš„ä½ç½®, è‹¥è¯¥é¡¹ç³»æ•°ä¸º 1 åˆ™å¯¹åº”ä½ä¸º 1
- å’Œä¸Šé¢çš„äºŒè¿›åˆ¶ç®—æ³•æœ¬è´¨ä¸€æ ·
- åŒæ ·ç”¨å¼‚æˆ–ä»£æ›¿åŠ å‡æ³•, æ‰€ä»¥ä¸ä¼šæœ‰è´Ÿçš„ç³»æ•°

#### å·®é”™æ£€æµ‹èƒ½åŠ›

##### å•ä¸ªä½å·®é”™

è‹¥ **ç”Ÿæˆå¤šé¡¹å¼è‡³å°‘ä¸¤é¡¹** ä¸” **$x^0$çš„ç³»æ•°ä¸º 1**, åˆ™æ‰€æœ‰çš„å•ä¸ªä½å·®é”™å‡å¯æ£€æµ‹

##### ä¸¤ä¸ªç‹¬ç«‹çš„å•ä¸ªä½å·®é”™

è‹¥ ç”Ÿæˆå¤šé¡¹å¼ä¸èƒ½æ•´é™¤ $x^t+1,\ t \in [1,\ n-1]$, åˆ™æ‰€æœ‰ç‹¬ç«‹çš„åŒå·®é”™å‡å¯æ£€æµ‹

##### å¥‡æ•°ä¸ªå·®é”™

è‹¥ ç”Ÿæˆå¤šé¡¹å¼åŒ…å« $x+1$, åˆ™å¯æ£€æµ‹æ‰€æœ‰çš„å¥‡æ•°ä¸ªå·®é”™

##### çªå‘æ€§å·®é”™

- æ‰€æœ‰ $L \le r$ çš„çªå‘æ€§å·®é”™å‡å¯æ£€æµ‹
- æ‰€æœ‰ $L = r+1$ çš„çªå‘æ€§å·®é”™æœ‰ $1-{(\frac{1}{2})}^{(r-1)}$ çš„æ¦‚ç‡è¢«æ£€æµ‹
- æ‰€æœ‰ $L > r+1$ çš„çªå‘æ€§å·®é”™æœ‰ $1-{(\frac{1}{2})}^{r}$ çš„æ¦‚ç‡è¢«æ£€æµ‹

##### è¡¨ç°è¾ƒå¥½çš„ç”Ÿæˆå¤šé¡¹å¼

- è‡³å°‘ä¸¤é¡¹
- åŒ…å« $x^0$
- ä¸èƒ½æ•´é™¤ $x^t+1,\ t \in [1,\ n-1]$
- æœ‰å› å­ $x+1$

### æ ¡éªŒå’Œ

æ ¸å¿ƒæ˜¯æ±‚å’Œ**å–å**

$n$ ä½çš„æ ¡éªŒå’Œè®¡ç®—æ–¹æ³•

- æŠ¥æ–‡æŒ‰ç…§ $n$ ä½åˆ’åˆ†ä¸ºå­—
- æ ¡éªŒå’Œè®¾ä¸º 0, æ¯ä¸ªå­—æ±‚å’Œ
- å¯¹å’Œæ±‚åç ä½œä¸ºæ ¡éªŒå’Œ

æ¥æ”¶æ–¹è®¡ç®—ç›¸åŒ, è‹¥å¾—åˆ°çš„æ ¡éªŒå’Œä¸º 0 è¯´æ˜æ ¡éªŒæˆåŠŸ

## Chapter 11 æ•°æ®é“¾è·¯æ§åˆ¶

### æˆå¸§

- é€šè¿‡æ·»åŠ å‘é€æ–¹å’Œæ¥æ”¶æ–¹åœ°å€, å°†ä¸€æ¡ä»æºç«¯åˆ°ç›®çš„ç«¯çš„æŠ¥æ–‡åŒå…¶ä»–æŠ¥æ–‡åˆ†ç¦»å¼€æ¥
- å›ºå®šé•¿åº¦æˆå¸§: é€šè¿‡å¸§çš„é•¿åº¦æœ¬èº«ä½œä¸ºè¾¹ç•Œ, ä¸éœ€è¦åˆ†éš”ç¬¦
- å¯å˜é•¿åº¦æˆå¸§: éœ€è¦è§„å®šæ¯ä¸€å¸§çš„èµ·å§‹å’Œç»“æŸ, åˆ†ä¸ºé¢å‘å­—ç¬¦åè®®å’Œé¢å‘ä½åè®®

#### é¢å‘å­—ç¬¦åè®®

- æ•°æ®è¡¨ç¤ºä¸ºå›ºå®šä½æ•°çš„å­—ç¬¦ (æ¯”å¦‚è¯´ 8 ä½çš„ ASCII ç )
- åœ¨å¸§çš„èµ·å§‹å’Œç»“æŸæœ‰å›ºå®šçš„æ ‡è®°
- è‹¥æ•°æ®ä¸­å‡ºç°å’Œæ ‡è®°æˆ–è½¬ä¹‰å­—ç¬¦ç›¸åŒçš„å­—ç¬¦æ—¶, é‡‡ç”¨**å­—èŠ‚å¡«å……**
  - å‘é€æ–¹: éœ€è¦åœ¨å‰é¢æ·»åŠ è½¬ä¹‰å­—ç¬¦
  - æ¥æ”¶æ–¹: å»æ‰è½¬ä¹‰å­—ç¬¦, å¹¶å°†åé¢çš„å­—ç¬¦ä½œä¸ºæ•°æ®å¤„ç†

#### é¢å‘ä½åè®®

- æ•°æ®è¡¨ç¤ºä¸ºä½æµ
- åœ¨å¸§çš„èµ·å§‹å’Œç»“æŸæœ‰å›ºå®šçš„æ ‡è®° (`01111110`)
- æ•°æ®ä¸­å‡ºç°ä¸æ ‡è®°ç›¸åŒçš„æ¨¡å¼æ—¶, é‡‡ç”¨**ä½å¡«å……**
  - å‘é€æ–¹: åœ¨é‡åˆ° `011111` æ—¶å¼ºåˆ¶åœ¨åé¢æ·»åŠ ä¸€ä¸ª `0`, é˜²æ­¢å’Œæ ‡è®°é‡å¤
  - æ¥æ”¶æ–¹: æ¥å—æ—¶æŠŠæ·»åŠ çš„ `0` ç§»èµ°

### æµé‡æ§åˆ¶ä¸å·®é”™æ§åˆ¶

- æµé‡æ§åˆ¶: é™åˆ¶å‘é€æ–¹åœ¨å¾—åˆ°æ¥å—æ–¹ç¡®è®¤å‰èƒ½å¤Ÿå‘é€çš„æ•°æ®çš„æ•°é‡
- å·®é”™æ§åˆ¶: åœ¨ä»»ä½•æ—¶å€™æ£€æµ‹åˆ°å·®é”™æ—¶é‡ä¼ å‡ºé”™çš„å¸§, ç§°ä¸ºè‡ªåŠ¨é‡å¤è¯·æ±‚, å³ **ARQ**

### åè®®

#### æ— å™ªå£°é€šé“

çœ‹ä¹¦ p205 ~ p209, æçº²æ²¡æ

#### æœ‰å™ªå£°é€šé“

> **åŠ¡å¿…çœ‹ä¹¦**, **åŠ¡å¿…**

##### åœæ­¢ç­‰å¾… ARQ [IMP]

![S-W ARQ](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210618154248.png)

- å‘é€æ–¹æ¯å‘é€ä¸€ä¸ªå¸§å°±åœæ­¢, å¯åŠ¨ä¸€ä¸ªè®¡æ—¶å™¨å¹¶ç­‰å¾…æ¥æ”¶æ–¹å‘é€ ACK
- è‹¥è®¡æ—¶å™¨è¶…æ—¶ä¸”æœªæ”¶åˆ° ACK, å‘é€æ–¹è‡ªåŠ¨é‡å‘
- æ¥æ”¶æ–¹å¯¹æ¯ä¸ªæ­£ç¡®åˆ°è¾¾çš„å¸§å›åº” ACK

##### åé€€ N å¸§ ARQ [IMP]

![B-N ARQ Window](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210618154515.png)

> å‘é€æ–¹çª—å£å˜åŒ–

![B-N ARQ Window](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210618154554.png)

> æ¥æ”¶æ–¹çª—å£å˜åŒ–

![B-N ARQ](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210618154629.png)

> æµç¨‹å›¾

- å¸§çš„åºåˆ—å·ä¸º $m$ ä½
- å‘é€çª—å£å¤§å° $2^m-1$, æ¥æ”¶çª—å£å¤§å° $1$
- å‘é€çª—å£ä¸­çš„å˜é‡
  - $S_f$: ç¬¬ä¸€ä¸ªè¿˜æ²¡æœ‰è¢«ç¡®è®¤çš„å¸§
  - $S_n$: ä¸‹ä¸€ä¸ªè¦å‘é€çš„å¸§
  - $S_{size}$: çª—å£å¤§å°, å›ºå®šä¸º $2^m-1$
- å‘é€æ–¹ä»…å¯¹ $S_f$ æŒ‡å‘çš„å¸§ä½¿ç”¨å®šæ—¶å™¨ (å› ä¸ºå®ƒå¿…å®šæœ€å…ˆåˆ°æ—¶)
- æ¥æ”¶æ–¹ä»…å¯¹é¡ºåºå’Œæ•°æ®æ­£ç¡®çš„å¸§å“åº” ACK, å¹¶åç§»çª—å£
- å‘é€æ–¹æ”¶åˆ° ACK å³å¯åç§»çª—å£ (å³å¢å¤§ $S_f$), æ•…ä¸€ä¸ª ACK å¯ä»¥ç¡®è®¤å¤šä¸ªå¸§
- è‹¥å‘é€æ–¹å®šæ—¶å™¨åˆ°æ—¶, åˆ™ä¼š**é‡å‘æ‰€æœ‰æœªç¡®è®¤çš„å¸§** -> å›é€€ N å¸§

##### é€‰æ‹©æ€§é‡å¤ ARQ [IMP]

![S ARQ SW](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210618155458.png)

> å‘é€æ–¹çª—å£

![S ARQ RW](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210618155523.png)

> æ¥æ”¶æ–¹çª—å£

![S ARQ](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210618155553.png)

> æµç¨‹å›¾

- å¸§çš„åºåˆ—å·ä¸º $m$ ä½
- å‘é€çª—å£, æ¥æ”¶çª—å£å¤§å°å‡ä¸º $2^{m-1}$
- å‘é€æ–¹
  - æ¯ä¸ªå‘é€çš„å¸§å‡æœ‰è®¡æ—¶å™¨
  - è®¡æ—¶å™¨åˆ°æ—¶æˆ–æ”¶åˆ°å¯¹åº”çš„ NAK æ—¶é‡å‘å¯¹åº”çš„å¸§
  - æ”¶åˆ° ACK æ—¶ç›´æ¥å³ç§»çª—å£åˆ°å¯¹åº”çš„ä½ç½® (å¯ç§»åŠ¨å¤šä¸ª)

> ä½ çœ‹åˆ°çš„è¿™ä¸ªä½ç½®æ˜¯ [æº markdown æ–‡ä»¶çš„ç¬¬ 1000 è¡Œ](https://github.com/HorizonChaser/horizonchaser.github.io/blob/backup/source/_posts/CS-Network-Review-and-Summary.md#L1000) !

- æ¥æ”¶æ–¹
  - æ¯æ¬¡çª—å£ç§»åŠ¨å‰æœ€å¤šå‘é€ä¸€æ¬¡ NAK
  - è‹¥æ”¶åˆ°çš„å¸§åºå·ä¸ä¸º $R_n$, åˆ™å‘é€ NAK
  - è‹¥æ¥æ”¶åˆ°çš„å¸§åºå·åœ¨çª—å£ä¸­, åˆ™ä¿å­˜å¸§å¹¶**å°è¯•**å³ç§»çª—å£è‡³ç¬¬ä¸€ä¸ªæœªæ”¶åˆ°çš„å¸§

### HDLC (é«˜çº§æ•°æ®é“¾è·¯æ§åˆ¶) [IMP]

> çœ‹ä¹¦ p226 ~ p230, ä¹¦ä¸Šä¹Ÿæ˜¯è¯­ç„‰ä¸è¯¦...

- åˆ†ä¸ºä¸»-ä»ç±»å‹çš„ æ­£å¸¸ç›¸åº”æ–¹å¼ å’Œåœ°ä½å¹³ç­‰çš„ å¼‚æ­¥å¹³è¡¡æ–¹å¼
- æœ‰ä¸‰ç§å¸§: ä¿¡æ¯å¸§ (I-frame), ç®¡ç†å¸§ (S-frame) å’Œæ— ç¼–å·å¸§ (U-frame)

![HDLC Frame](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210618160740.png)

> FCS: Frame CheckSum, å¸§æ ¡éªŒå’Œ
> Flag: æ ‡è®°

- ä¿¡æ¯å¸§: ä¸»è¦è¿è½½æ•°æ®, ä½†é€šè¿‡æå¸¦ä¹Ÿèƒ½åŒ…å«æµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶ä¿¡æ¯
- ç®¡ç†å¸§: ä»…åŒ…å«æµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶ä¿¡æ¯
- æ— ç¼–å·å¸§: äº¤æ¢ä¼šè¯ç®¡ç†å’Œæ§åˆ¶ä¿¡æ¯, ä¸»è¦åœ¨åœ¨æ§åˆ¶å­—æ®µçš„ç¼–ç é‡Œ

### ç‚¹åˆ°ç‚¹åè®® (PPP)

- ä»…è´Ÿè´£ç‚¹åˆ°ç‚¹çš„ä¼ è¾“
- æ²¡æœ‰æµé‡æ§åˆ¶, åªæœ‰åŸºäº CRC çš„ç®€å•å·®é”™æ§åˆ¶
- é¢å‘å­—èŠ‚
- å¯ä»¥æä¾›èº«ä»½é‰´åˆ« (PAP, CHAP ç­‰), æ”¯æŒå¤šç§ç½‘ç»œå±‚åè®®

> æ— å…³å†…å®¹: ç°åœ¨ç‚¹åˆ°ç‚¹ä»¥å¤ªç½‘ä¹Ÿç”¨ PPP, ç§°ä¸º PPPoE (PPP over Ethernet)
> æ˜¯ä¸æ˜¯å¾ˆçœ¼ç†Ÿ? å®½å¸¦è¿æ¥ä¸€èˆ¬å°±ç”¨è¿™ç©æ„å„¿

## Chapter 12 å¤šè·¯è®¿é—®

### éšæœºè®¿é—®

#### ALOHA

##### çº¯ ALOHA

![Pure ALHOA](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619000926.png)

- å„ç«™ç‚¹ä¹‹é—´ç›´æ¥ç«äº‰, æœ‰æ•°æ®ç›´æ¥å‘é€, ä¸ç®¡å…¶ä»–ç«™ç‚¹
- æ¯å¸§éƒ½æœ‰å®šæ—¶å™¨, è¶…æ—¶æœªæ”¶åˆ°æ¥æ”¶æ–¹çš„ç¡®è®¤å¸§åˆ™ç­‰å¾…ä¸€æ®µæ—¶é—´ (ç§°ä¸ºè¡¥å¿æ—¶é—´ $T_B$) åé‡å‘
- è‹¥ä¼ è¾“çš„æœ€é•¿æ—¶é—´ä¸º $T_P$, å¸§å¹³å‡ä¼ è¾“æ—¶é—´ä¸º $T_{fr}$,
  - åˆ™ $T_B=R \times (T_P \ æˆ– \ T_{fr})$, $R \in [0,\ 2^k-1]$, å–å†³äºå®ç°
  - ç§°ä¸ºäºŒè¿›åˆ¶æŒ‡æ•°é€€é¿
- è„†å¼±æ—¶é—´: å¯èƒ½å‘ç”Ÿå†²çªçš„æ—¶é—´, è¿™é‡Œæ˜¯ $2\times T_{fr}$
- ååé‡: $S=G \times e^{-2G}$, $G = 0.5$, $S_{max} = 0.184$
  - $G$ ä¸ºä¸€ä¸ªå¸§ä¼ è¾“æ—¶é—´å†…ç³»ç»Ÿäº§ç”Ÿçš„å¸§çš„å¹³å‡æ•°

##### æ—¶éš™ ALOHA

![Slot ALOHA](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619000952.png)

- å°†æ—¶é—´æŒ‰ç…§ $T_{fr}$ åˆ†å‰²ä¸ºæ—¶éš™, å¿…é¡»åœ¨æ—¶éš™å¼€å§‹å‘é€å¸§
- è„†å¼±æ—¶é—´: $T_{fr}$
- ååé‡: $S=G \times e^{-2G}$, $G = 1$, $S_{max} = 0.368$

#### CSMA (è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®) [IMP]

> CSMA: Carrier Sense Mutiple Access

- åœ¨å‘é€å‰å…ˆæ£€æµ‹ä»‹è´¨æ˜¯å¦ç©ºé—²
- è„†å¼±æ—¶é—´: ä¼ æ’­æ—¶é—´ $T_P$, å³ç›¸é‚»æœ€è¿œçš„ä¸¤ç«™ç‚¹çš„ä¼ æ’­æ—¶é—´

##### æŒç»­æ–¹æ³•

![Persistent](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619001045.png)

- å®šä¹‰äº†ç«™ç‚¹å‘ç°é€šé“ç¹å¿™æ—¶çš„æ£€æµ‹ç­–ç•¥
- 1-æŒç»­: ä¸åœåœ°ä¾¦å¬ç›´åˆ°ä»‹è´¨ç©ºé—²
- éæŒç»­: æ¯éš”éšæœºæ—¶é—´è¿›è¡Œä¸€æ¬¡ä¾¦å¬
- p-æŒç»­: è‹¥é€šé“ç©ºé—², åˆ™æœ‰ $p$ çš„æ¦‚ç‡å‘é€æ•°æ®, $1-p$ çš„æ¦‚ç‡ç­‰å¾…ä¸€ä¸ªæ—¶éš™åå†æ¬¡æ£€æµ‹
  è‹¥ç©ºé—²åˆ™é‡æ–°è¿›è¡Œåˆ¤å®š, å¦åˆ™è®¤ä¸ºå‘ç”Ÿå†²çª, ä½¿ç”¨è¡¥å¿ç¨‹åº

##### CSMA/CD (å¸¦å†²çªæ£€æµ‹çš„ è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®)

> CD: Collision Detect, å†²çªæ£€æµ‹

![CSMA/CD](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619001132.png)

- å‘é€çš„æ—¶å€™åŒæ—¶æ£€æµ‹æ˜¯å¦å‘ç”Ÿå†²çª
- å†²çªè¯´æ˜è‡³å°‘æœ‰ä¸¤ä¸ªç«™ç‚¹åœ¨å‘é€, ä¼šå¯¼è‡´ä»‹è´¨ä¸Šçš„èƒ½é‡æ°´å¹³é«˜äºæ­£å¸¸å€¼ (æ£€æµ‹å†²çªçš„æ–¹æ³•)
- è‹¥å†²çª, åˆ™ç«‹å³æ”¾å¼ƒä¼ è¾“, å‘é€å¹²æ‰°ä¿¡å· (é«˜èƒ½çŸ­ä¿¡å·, ä¿è¯æ¯ä¸ªç«™ç‚¹éƒ½èƒ½åˆ†è¾¨å‡ºå†²çª), ç„¶ååº”ç”¨äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿
- æœ€çŸ­å¸§é•¿: **ä¼ è¾“æ—¶é—´è‡³å°‘æ˜¯ä¸¤å€çš„(æœ€å¤§)ä¼ æ’­æ—¶é—´**, ä¿è¯å³ä½¿ç›¸é‚»æœ€è¿œçš„ç«™ç‚¹å‘ç”Ÿå†²çª, åœ¨ä¼ è¾“ç»“æŸå‰ä¹Ÿèƒ½æ”¶åˆ°å¯¹æ–¹çš„å¸§åˆ°è¾¾, å¸§é•¿å³ä¸º $ä¼ è¾“æ—¶é—´ \times å¸¦å®½$

##### CSMA/CA (å¸¦å†²çªé¿å…çš„ è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®)

> CA: Collision Avoid

- åœ¨æ— çº¿ç½‘ç»œç­‰æƒ…å†µä¸‹, å†²çªä¸ä¼šæ˜¾è‘—æ”¹å˜ä»‹è´¨çš„èƒ½é‡æ°´å¹³, æ•…ä¸èƒ½æ£€æµ‹å†²çª
- ä½¿ç”¨å¸§é—´é—´éš”, ç«äº‰çª—å£å’Œç¡®è®¤ä¸‰ç§æ–¹æ³•æ¥å®ç°é¿å…å†²çª

![Methods](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619001153.png)

###### å¸§é—´é—´éš” (IFS)

> IFS: InterFrame Space

- ä½¿å¾—è¿œç«¯ç«™ç‚¹çš„ä¿¡å·èƒ½åˆ°è¾¾æœ¬ç«™ç‚¹
- è¾ƒä½çš„ IFS è¯´æ˜ä¼˜å…ˆçº§è¾ƒé«˜

###### ç«äº‰çª—å£

- è¢«åˆ’åˆ†ä¸ºæ—¶éš™, é¢„å¤‡å‘é€çš„ç«™ç‚¹å„è‡ªé€‰æ‹©ä¸€ä¸ªæ—¶éš™ä½œä¸ºç›®æ ‡
- æ—¶éš™çš„æ•°é‡æ ¹æ®è¡¥å¿ç­–ç•¥ä¸­çš„äºŒå…ƒæŒ‡æ•°å˜åŒ–, æ¯æ¬¡ IFS åè‹¥ä»æ— ç©ºé—²åˆ™ç¿»å€
- è‹¥ç«™ç‚¹åœ¨ç­‰å¾…å¯¹åº”æ—¶éš™æ—¶æ£€æµ‹åˆ°ç¹å¿™, ä¸ä¼šé‡ç½®è®¡æ—¶å™¨, è€Œæ˜¯æš‚åœç›´åˆ°ç©ºé—², ç„¶åç»§ç»­ç­‰å¾…

###### ç¡®è®¤

å³æ¥æ”¶æ–¹å‘é€çš„ ACK

### å—æ§è®¿é—®

#### é¢„çº¦

- å°†æ—¶é—´åˆ’åˆ†ä¸ºæ—¶éš™, æ¯ä¸€ä¸ªæ—¶éš™å†…åœ¨å‘é€å‰éœ€è¦å…ˆåœ¨é¢„çº¦å¸§ä¸­è¿›è¡Œé¢„çº¦
- å¯¹ $N$ ä¸ªå­ç«™ç‚¹, é¢„çº¦å¸§ä¸­ä¼šæœ‰ $N$ ä¸ªé¢„çº¦å­æ—¶éš™, æƒ³å‘é€æ•°æ®çš„å„ç«™ç‚¹åœ¨è‡ªå·±å¯¹åº”çš„å­æ—¶éš™ä¸­è¿›è¡Œæ ‡è®°
- ç„¶åè¿›è¡Œäº†é¢„çº¦çš„å„ç«™ç‚¹æŒ‰ç…§ç¼–å·é¡ºåºé€ä¸ªå‘é€æ•°æ®

#### è½®è¯¢

- ä¸€ä¸ªç«™ç‚¹ä½œä¸ºä¸»ç«™, å…¶ä»–ä½œä¸ºä»ç«™
- æ‰€æœ‰çš„æ•°æ®éƒ½è¦ç»è¿‡ä¸»ç«™ä¼ é€’
- ä¸»ç«™è½®æµè¯¢é—®å„ä¸ªä»ç«™æ˜¯å¦è¦å‘é€ -> è½®è¯¢

#### ä»¤ç‰Œä¼ é€’

- æŒæœ‰ä»¤ç‰Œçš„ç«™ç‚¹å¯ä»¥å‘é€æ•°æ®
- å„ä¸ªç«™ç‚¹è½®æµæŒæœ‰ä»¤ç‰Œ, æ„æˆä¸€ä¸ªé€»è¾‘ç¯

## Chapter 13 æœ‰çº¿å±€åŸŸç½‘ï¼šä»¥å¤ªç½‘

### IEEE æ ‡å‡†

- å°†æ•°æ®é“¾è·¯å±‚åˆ’åˆ†ä¸º LLC (é€»è¾‘é“¾è·¯æ§åˆ¶å±‚) å’Œ MACå­å±‚ (ä»‹è´¨è®¿é—®æ§åˆ¶å±‚), å‰è€…åœ¨åè€…ä¸Šé¢
- LLC å¯¹æ‰€æœ‰çš„IEEEå±€åŸŸç½‘å‡é€‚ç”¨(ä½¿MACå­å±‚å˜å¾—é€æ˜), å®šä¹‰äº†ä¸€ä¸ªåè®®æ•°æ®å•å…ƒ, æä¾›æµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶
- MACå­å±‚ä¸ºæ¯ç§ç›¸åº”çš„å±€åŸŸç½‘åè®®å®šä¹‰äº†ç½‘ç»œæ–¹æ³•å’Œæˆå¸§æ ¼å¼

### æ ‡å‡†ä»¥å¤ªç½‘çš„MACå­å±‚

æ ‡å‡†ä»¥å¤ªç½‘: 10Mbps

#### å¸§æ ¼å¼ [IMP]

![Frame](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619205903.png)

- ç”±ä¸ƒéƒ¨åˆ†ç»„æˆ: å‰å¯¼ç¬¦, èµ·å§‹å¸§åˆ†ç•Œç¬¦(SFD), ç›®çš„åœ°å€, æºåœ°å€, é•¿åº¦/ç±»å‹, æ•°æ®, CRC-32
- å¸§çš„æœ€å°é•¿åº¦: 512 ä½, å¯¹åº”æ•°æ®ä¸º 46 å­—èŠ‚ (ä¸åŒ…å«å‰å¯¼ç¬¦å’ŒSFD)
- å¸§çš„æœ€å¤§é•¿åº¦: 1518 å­—èŠ‚, å¯¹åº”æ•°æ®ä¸º 1500 å­—èŠ‚ (ä¸åŒ…å«å‰å¯¼ç¬¦å’ŒSFD)

#### MAC åœ°å€ [IMP]

- 48 ä½, å³ 6 ä¸ªå­—èŠ‚, é‡‡ç”¨ 12 ä¸ªåå…­è¿›åˆ¶æ•°è¡¨ç¤º, ä¸¤ä¸¤ä¸€ç»„, å†’å·åˆ†éš”
- å•æ’­, å¤šæ’­ä¸å¹¿æ’­åœ°å€:
  - ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æœ€ä½ä½è‹¥ä¸º 0, åˆ™ä¸ºå•æ’­åœ°å€; ä¸º 1, åˆ™ä¸ºå¤šæ’­åœ°å€
  - å¹¿æ’­åœ°å€çš„æ¯ä¸€ä½éƒ½æ˜¯ 1, æ˜¯å¤šæ’­çš„ç‰¹ä¾‹
- å‘é€é¡ºåº: æ¯ä¸ªå­—èŠ‚çš„ä½ä½åœ¨å‰, é€å­—èŠ‚å‘é€
  - ä¾‹å¦‚ `47:20`, å‘é€é¡ºåºä¸º `11100010 00000100`

#### CSMA/CD æœ€çŸ­å¸§é•¿ [IMP]

- æ—¶éš™: ä¸€ä¸ªå¸§æœ€å¤§çš„å¾€è¿”æ—¶é—´åŠ ä¸Šå‘é€å¹²æ‰°ä¿¡å·æ‰€éœ€çš„æ—¶é—´
  - å¯¹ä»¥å¤ªç½‘, å®šä¹‰ä¸ºå‘é€ä¸€ä¸ª 512 ä½çš„å¸§(æœ€å°å¸§)æ‰€éœ€çš„æ—¶é—´, 10Mbps ä¸‹ä¸º 51.2us
- ç½‘ç»œæœ€å¤§é•¿åº¦:
  - ç†è®ºä¸Šæœ€å¤§é•¿åº¦ä¸º $ä¼ æ’­é€Ÿåº¦ \times (æ—¶éš™/2) = (2 \times 10^8) \times (51.2 \times 10^{-6}/2) = 5120 \ m$
  - å®é™…ä¸Šä¸º 2500m, ç”±äºä¸­ç»§å™¨ç­‰å»¶è¿Ÿ

#### ç¼–ç ä¸è§£ç 

- æ‰€æœ‰æ ‡å‡†éƒ½ä½¿ç”¨ 10Mbps çš„æ•°å­—ä¿¡å·
- é‡‡ç”¨æ›¼å½»æ–¯ç‰¹ç¼–ç 

#### æ ‡å‡†ä»¥å¤ªç½‘çš„åˆ†ç±»

- 10Base5: æ€»çº¿å‹ åŒè½´ç”µç¼† ç²—ç¼†
- 10Base2: æ€»çº¿å‹ åŒè½´ç”µç¼† ç»†ç¼†
- 10Base-T: æ˜Ÿå½¢ UTP, åŒç»çº¿åœ¨ç«™ç‚¹å’Œé›†çº¿å™¨é—´å½¢æˆäº†ä¸¤æ¡é€šè·¯, å†²çªåœ¨é›†çº¿å™¨ä¸­
- 10Base-F: æ˜Ÿå½¢ å…‰çº¤, ä¸¤æ¡

### æ¡¥æ¥ä»¥å¤ªç½‘

- é€šè¿‡ç½‘æ¡¥è¿æ¥ä¸¤ä¸ªä»¥å¤ªç½‘
- ç½‘æ¡¥åœ¨æ¯ä¸ªç½‘ä¸­ä½œä¸ºä¸€ä¸ªç«™ç‚¹
- ç½‘æ¡¥ä½œç”¨:
  - æé«˜å¸¦å®½ (æœ‰é™çš„æ€»å¸¦å®½ä¸å˜, ä½†æ˜¯ç”±äºåˆ’åˆ†å…±äº«çš„ç«™ç‚¹æ•°å°‘äº†)
  - åˆ’åˆ†å†²çªåŸŸ

### äº¤æ¢å¼ä»¥å¤ªç½‘

- é€šè¿‡äºŒå±‚äº¤æ¢æœºè¿æ¥ $N$ ä¸ªä»¥å¤ªç½‘, ç›¸å½“äºä¸€ä¸ªå¤šå£ç½‘æ¡¥
- å¸¦å®½ä»…æœ‰ç«™ç‚¹å’Œäº¤æ¢æœºä¹‹é—´å…±äº«
- å†²çªåŸŸä¹Ÿåˆ’åˆ†ä¸ºäº† $N$ ä¸ª

### å…¨åŒå·¥ä»¥å¤ªç½‘

- ç«™ç‚¹å’Œäº¤æ¢æœºé—´ç‚¹å¯¹ç‚¹, ä¸éœ€è¦å…±äº«, æ²¡æœ‰å†²çª, ä¹Ÿå°±ä¸éœ€è¦ CSMA/CD ç­‰
- ä½¿ç”¨ä¸¤æ¡çº¿è·¯, ä¸€æ”¶ä¸€å‘
- ä¸ºæä¾›æµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶, åœ¨ LLC å’Œ MACå­å±‚ ä¹‹é—´å¢åŠ äº†æ–°çš„ MACæ§åˆ¶å­å±‚

### å¿«é€Ÿä»¥å¤ªç½‘

- 100Mbps
- ä¸è§¦åŠ MACå­å±‚
- å–æ¶ˆæ€»çº¿æ‹“æ‰‘, ä»…ä¿ç•™æ˜Ÿå‹æ‹“æ‰‘
- ä¸éœ€è¦ CSMA/CD, ä½†ä¸ºäº†å…¼å®¹ä¿ç•™
- æ”¯æŒè‡ªåŠ¨åå•†é€Ÿç‡
- ç±»å‹:
  - 100Base-TX: ä¸¤æ¡äº”ç±»åŒç»çº¿, MLT-3 ç¼–ç 
  - 100Base-FX: ä¸¤æ¡åŒå…‰çº¤, NRZ-I ç¼–ç 
  - 100Base-T4: å››æ¡ä¸‰ç±»UTP, 8B/6T ç¼–ç 

### åƒå…†ä»¥å¤ªç½‘

- 1000Mbps
- ä¿®æ”¹äº† MACå­å±‚
- åŠåŒå·¥ä¸å…¨åŒå·¥æ–¹æ³•:
  - åŠåŒå·¥æ–¹æ³•:
    - ä½¿ç”¨é›†çº¿å™¨è€Œä¸æ˜¯äº¤æ¢æœº
    - ä¼ ç»Ÿæ–¹æ³•: ç›¸åŒçš„æœ€å°å¸§é•¿ (512ä½)
    - è½½æ³¢æ‰©å±•æ–¹æ³•: æœ€å°å¸§é•¿ 512 å­—èŠ‚, 4096 ä½
    - å¸§çªå‘æ–¹æ³•: å‘é€æˆå€çš„å¸§, ç±»ä¼¼ä¸€ä¸ªå¤§å‹å¸§
  - å…¨åŒå·¥æ–¹æ³•:
    - ä½¿ç”¨äº¤æ¢æœº, ä¸éœ€è¦ CSMA/CD
- ç±»å‹:
  - 1000Base-SX: ä¸¤æ¡çŸ­æ³¢å…‰çº¤
  - 1000Base-LX: ä¸¤æ¡é•¿æ³¢å…‰çº¤
  - 1000Base-CS: ä¸¤æ¡é“œç®¡çº¿ STP
  - 1000Base-T: å››æ¡ UTP

### æ€»çº¿å‹ä»¥å¤ªç½‘çš„ä¿¡é“åˆ©ç”¨ç‡ç®€å•åˆ†æ

> çœ‹ PPT å§, ch13 é‚£ä¸ª, æçº²ä¸Šæ²¡åŠ ç²—, è¯·è‡ªè¡ŒæŠŠæ¡ ğŸ¶

## Chapter 14 æ— çº¿å±€åŸŸç½‘

### IEEE 802.11 [IMP]

- æ— çº¿å±€åŸŸç½‘è§„èŒƒ
- æ¶µç›–äº†ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚

### ä½“ç³»ç»“æ„

#### åŸºæœ¬æœåŠ¡é›† (BSS)

- æ— çº¿å±€åŸŸç½‘çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†
- åˆ†ä¸ºç‰¹åˆ«ç½‘ç»œå’ŒåŸºç¡€è®¾æ–½ç½‘ç»œ
  - ç‰¹åˆ«ç½‘ç»œ: ä¸å¸¦ AP (access point, è®¿é—®ç‚¹/æ¥å…¥ç‚¹)
  - åŸºç¡€è®¾æ–½ç½‘ç»œ: æœ‰ä¸€ä¸ª AP, ä¹Ÿç§°ä½œåŸºç¡€ç½‘ç»œ

#### æ‰©å±•æœåŠ¡é›† (ESS)

- ç”±ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªå¸¦æœ‰ AP çš„ BSS ç»„æˆ
- é€šè¿‡åˆ†å¸ƒå¼ç³»ç»Ÿè¿æ¥å„ AP, è¿æ¥æ–¹å¼ä¸ºä»»æ„çš„ IEEE å±€åŸŸç½‘, ä¾‹å¦‚ä»¥å¤ªç½‘
- ç§»åŠ¨ç«™ç‚¹: æ™®é€šçš„ç«™ç‚¹; å›ºå®šç«™ç‚¹: AP
- åŒ BSS å†…å¯ä»¥ç›´æ¥é€šä¿¡, ä½†ä¸åŒ BSS ä¸‹ä¸èƒ½ç›´æ¥é€šä¿¡
- ç§»åŠ¨ç«™ç‚¹å¯ä»¥åŒæ—¶å±äºå¤šä¸ª BSS

![ESS](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619230019.png)

#### ç«™ç‚¹ç±»å‹

- ä¸è¿ç§»: ä¸åŠ¨æˆ–è€…ä»…åœ¨ä¸€ä¸ª BSS å†…éƒ¨ç§»åŠ¨
- BSS è¿ç§»: åœ¨åŒä¸€ä¸ª ESS ä¸‹, å¯ä»¥åœ¨ BSS é—´ç§»åŠ¨
- ESS è¿ç§»: å¯ä»¥åœ¨ä¸åŒçš„ ESS é—´è¿ç§», ä½†ä¸ä¿è¯è¿ç»­

### MACå±‚ [IMP]

![MAC Layer](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619230043.png)

#### åˆ†å¸ƒå¼åè°ƒåŠŸèƒ½ (DCF)

> DCF: Distributed Coordination Function

- é‡‡ç”¨ CSMA/CA ä½œä¸ºè®¿é—®æ–¹å¼, åŸå› :
  - å¦åˆ™éœ€è¦å‘é€æ—¶åŒæ—¶ä¾¦å¬, æé«˜æˆæœ¬
  - ç”±äºéšè—ç«™ç‚¹å¯èƒ½æ— æ³•æ£€æµ‹å†²çª
  - ç«™ç‚¹é—´è·å¯¼è‡´çš„ä¿¡å·è¡°å‡å¯èƒ½ä¼šä½¿ä¸¤ç«¯æ— æ³•æ£€æµ‹åˆ°å¯¹æ–¹çš„å†²çª

![CSMA/CA Flowchart](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619230422.png)

#### ç‚¹åè°ƒåŠŸèƒ½ (PCF)

> PCF: Point Coordination Function

- é›†ä¸­å¼æ— ç«äº‰è½®è¯¢
- ä¼˜å…ˆçº§é«˜äº DCF, ä¸»åŠ¨æƒåœ¨ AP
- ä¸»è¦ç”¨äºå¯¹æ—¶é—´æ•æ„Ÿæ•°æ®çš„ä¼ è¾“

#### å¸§æ ¼å¼ [IMP]

![Frame](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619230923.png)

- 9 ä¸ªå­—æ®µ: å¸§æ§åˆ¶ (FC), D, åœ°å€ (æœ‰å››ä¸ª), åºåˆ—å·, å¸§ä¸»é¢˜, FCS (å¸§æ ¡éªŒå’Œ, CRC-32)
- ä¸‰ç§ç±»å‹: ç®¡ç†å¸§, æ§åˆ¶å¸§, æ•°æ®å¸§

#### å¯»å€æœºåˆ¶

- å››ç§æƒ…å†µ: ç«™ç‚¹é—´, AP é—´, ç«™ç‚¹å’Œ AP ä¹‹é—´ (åŒå‘)
- é€šè¿‡ FC ä¸­çš„ To DS (å‘å¾€åˆ†å¸ƒå¼ç³»ç»Ÿ, å·®ä¸å¤šå°±æ˜¯æŸä¸ª AP) å’Œ From DS (æ¥è‡ªåˆ†å¸ƒå¼ç³»ç»Ÿ, å¦‚å‰) ç¡®å®šå…·ä½“æƒ…å†µ, è§ä¸‹

![Situations](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619231301.png)

1. è¯¥å¸§æ—¢ä¸æ˜¯å‘å¾€ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä¹Ÿä¸æ˜¯æ¥è‡ªäºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œè€Œæ˜¯ä»åŒä¸€ä¸ªBSSä¸­çš„ä¸€ä¸ªç«™ç‚¹åˆ°å¦å¤–ä¸€ä¸ªç«™ç‚¹ï¼Œä¸ç»è¿‡DSï¼Œéœ€è¦ç»™åŸå§‹å‘é€ç«™å›é€ACKå¸§
2. è¯¥å¸§æ¥è‡ªäºåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä»ä¸€ä¸ªAPæ¥ï¼Œåˆ°ä¸€ä¸ªç«™ç‚¹å»ï¼ŒACKå¸§å°†è¢«å›é€ç»™AP
3. è¯¥å¸§è¦å‘é€ç»™ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä»ä¸€ä¸ªç«™ç‚¹å‘å¾€APï¼ŒACKå¸§å°†è¢«å‘é€åˆ°åŸå§‹ç«™ç‚¹
4. æš—ç¤ºåˆ†å¸ƒå¼ç³»ç»Ÿä¹Ÿæ˜¯æ— çº¿çš„ï¼Œä»ä¸€ä¸ªDSçš„APå‘é€åˆ°å¦å¤–ä¸€ä¸ªDSçš„APï¼›
   å› ä¸ºå¦‚æœå…¶ä¸­ä¸€ä¸ªDSæ˜¯ä¸€ä¸ªæœ‰çº¿å±€åŸŸç½‘ï¼Œåˆ™è¿™é‡Œå°±ä¸éœ€è¦å®šä¹‰åœ°å€

#### éšè—ç«™ç‚¹ [IMP]

![Hidden Station](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619231646.png)

- è‹¥ B -> A, C -> A, ç”±äº B C ä¹‹é—´ç›¸äº’éšè—, ä¸çŸ¥é“å¯¹æ–¹å­˜åœ¨, å› æ­¤ä¼šé€ æˆå†²çª
- è§£å†³æ–¹æ³•: ä½¿ç”¨æ¡æ‰‹å¸§ (RTS å’Œ CTS, è¯·æ±‚å‘é€å’Œå…è®¸å‘é€)

#### æš´éœ²ç«™ç‚¹ [IMP]

![Exposed Station](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210619232117.png)

- è‹¥ A -> B, å¼€å§‹å C -> D, ç”±äºå‰è€…å¹²æ‰°å¯¼è‡´åè€…å¿…é¡»ç­‰å¾… (å³ä½¿ D ä¸åœ¨ A èŒƒå›´)

#### ç‰©ç†å±‚ [IMP]

> å„åè®®ç»†èŠ‚å»ºè®®çœ‹ä¹¦ p288 ~ p289

- é™¤çº¢å¤–çº¿å¤–, å‡åœ¨ ISM é¢‘å¸¦: 902~928 MHz, 2.4~4.835 GHz, 5.725~5.850 GHz
  - ISM: å·¥ä¸šçš„, ç§‘å­¦çš„, åŒ»å­¦çš„

## Chapter 15 è¿æ¥å±€åŸŸç½‘ã€ä¸»å¹²ç½‘å’Œè™šæ‹Ÿå±€åŸŸç½‘

### è¿æ¥è®¾å¤‡ [IMP]

- æ ¹æ®è®¾å¤‡åœ¨ç½‘ç»œä¸­å·¥ä½œçš„å±‚æ¬¡åˆ’åˆ†

#### æ— æºé›†çº¿å™¨

- ä»…ä»…æ˜¯ä¸€ä¸ªè¿æ¥å™¨, æŠŠä¸åŒåˆ†æ”¯ç‰©ç†ä¸Šè¿æ¥èµ·æ¥
- æ˜¯æ¥è‡ªä¸åŒç«™ç‚¹ä¿¡å·çš„å†²çªç‚¹
- åœ¨ç‰©ç†å±‚ä¹‹ä¸‹, ä½œä¸ºä»‹è´¨çš„ä¸€éƒ¨åˆ†

#### ä¸­ç»§å™¨

- è¿æ¥åŒä¸€ä¸ªå±€åŸŸç½‘çš„å„ä¸ªåˆ†æ®µ
- å·¥ä½œåœ¨ç‰©ç†å±‚
- é€šè¿‡è‡ªå·±è¯†åˆ«ä¿¡å·ç„¶åå†ç”Ÿ, ä¸ä¼šæ”¾å¤§å™ªå£°

#### æœ‰æºé›†çº¿å™¨

- å·¥ä½œåœ¨åœ¨ç‰©ç†å±‚
- ç›¸å½“äºå¤šç«¯å£çš„ä¸­ç»§å™¨
- å¯ä»¥çº§è”, é€šå¸¸ç”¨äºæ˜Ÿå‹æ‹“æ‰‘ç»“æ„ä¸­

#### ç½‘æ¡¥

- å·¥ä½œåœ¨ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚
  - åœ¨ç‰©ç†å±‚: ç±»ä¼¼ä¸­ç»§å™¨, å†ç”Ÿä¿¡å·
  - åœ¨æ•°æ®é“¾è·¯å±‚: é€šè¿‡ç‰©ç†åœ°å€ (ä¾‹å¦‚ MAC) è½¬å‘å¸§
  - ä¸æ”¹å˜ç‰©ç†åœ°å€
- è¿‡æ»¤: é€šè¿‡æŸ¥é˜…è‡ªå·±çš„è¡¨ (å¯ä»¥æ˜¯æ‰‹å·¥é…ç½®çš„é™æ€è¡¨, ä¹Ÿå¯ä»¥æ˜¯é€æ˜ç½‘æ¡¥è‡ªå­¦ä¹ çš„è¡¨) å†³å®šå‘å¤–è½¬å‘å¸§çš„ç›®çš„ç«¯å£

##### é€æ˜ç½‘æ¡¥

- é€šè¿‡å­¦ä¹ ç½‘ç»œä¸­çš„å¸§ä¼ è¾“æ–¹å¼ç”Ÿæˆè‡ªå·±çš„è¡¨
  - æ¥æ”¶åˆ°å¸§æ—¶, å³å¯è®°å½•ä¸‹è¯¥å¸§çš„ç‰©ç†åœ°å€å’Œæ¥å—ç«¯å£çš„å¯¹åº”å…³ç³»
  - è½¬å‘æ—¶, è‹¥æ— åŒ…å«ç›®çš„åœ°å€çš„æ¡ç›®, åˆ™ä»æ¯ä¸ªç«¯å£è½¬å‘
    - å¯èƒ½é€ æˆå¸§æ³›æ»¥
- åœ¨ä¸¤ä¸ª LAN ä¹‹é—´å­˜åœ¨å¤šä¸ªé€æ˜ç½‘æ¡¥æ—¶, å¯èƒ½ä¼šå‡ºç°å¾ªç¯é—®é¢˜ (åŒä¸€å¸§è¢«è½¬å‘å¤šæ¬¡)
  - ä½¿ç”¨ç”Ÿæˆæ ‘ç®—æ³•å»ºç«‹æ— å¾ªç¯çš„æ‹“æ‰‘ç»“æ„ (å› ä¸ºæ ‘å¿…å®šæ— ç¯)
    - ç½‘æ¡¥å’Œ LAN éƒ½è§†ä¸ºèŠ‚ç‚¹
    - ä»ç½‘æ¡¥åˆ° LAN çš„è·³æ•°ä¸º 1, LAN åˆ°ç½‘æ¡¥è·³æ•°ä¸º 0
    - ç½‘æ¡¥å¹¿æ’­è‡ªå·±çš„ ID, æœ€å°çš„ä½œä¸ºæ ‘æ ¹
    - è®¡ç®—æ ¹ç½‘æ¡¥åˆ°æ¯ä¸ªç½‘æ¡¥ä¸ LAN çš„æœ€å°æˆæœ¬çš„è·¯å¾„
    - è·¯å¾„ç»„åˆå³ä¸ºç”Ÿæˆæ ‘
  - å±äºç”Ÿæˆæ ‘çš„ä¸ºè½¬å‘ç«¯å£, ä¸å±äºçš„ä¸ºé˜»å¡ç«¯å£ (ç›¸å½“äºè¢«ç¦ç”¨äº†)

##### æºè·¯ç”±ç½‘æ¡¥

- é€šè¿‡å‘é€æ–¹æŒ‡å®šè¦ç»è¿‡çš„æ¯ä¸€ä¸ªç½‘æ¡¥
- å¹¶ä¸æ™®åŠ

#### äºŒå±‚äº¤æ¢æœº

- å·¥ä½œåœ¨ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚
- ç«¯å£å¯ä»¥å¾ˆå¤š, è®©æ¯ä¸€ä¸ªç«™ç‚¹éƒ½æœ‰ä¸€ä¸ªç«¯å£ -> æ²¡æœ‰é€šä¿¡ç«äº‰
- é€šè¿‡ç‰©ç†åœ°å€è½¬å‘å¸§

#### è·¯ç”±å™¨

- å·¥ä½œåœ¨ç‰©ç†å±‚, æ•°æ®é“¾è·¯å±‚å’Œç½‘ç»œå±‚
- é€šè¿‡é€»è¾‘åœ°å€è½¬å‘å¸§
- ä½¿ç”¨è·¯ç”±è¡¨è¿›è¡Œè½¬å‘å†³ç­–

#### ä¸‰å±‚äº¤æ¢æœº

- æ˜¯è·¯ç”±å™¨, ä½†"æ›´å¿«æ›´å¤æ‚"
- ä¹¦ä¸­å’Œ è·¯ç”±å™¨ äº’æ¢ä½¿ç”¨

#### ç½‘å…³

- å·¥ä½œåœ¨æ¯ä¸€å±‚çš„è®¡ç®—æœº
  
### å†²çªåŸŸä¸å¹¿æ’­åŸŸ [IMP]

#### å†²çªåŸŸ

- åœ¨ç‰©ç†å±‚, åœ¨åŒä¸€æ€»çº¿ (æˆ–è€…å…¶ä»–ç‰©ç†ç½‘æ®µ) ä¸Šçš„ç«™ç‚¹ä¹‹å’Œ
- å› æ­¤, ä»…å·¥ä½œåœ¨ç‰©ç†å±‚æˆ–ä¹‹ä¸‹çš„è®¾å¤‡æ— æ³•åˆ’åˆ†å†²çªåŸŸ, ä¾‹å¦‚
  - æ— æºé›†çº¿å™¨, æœ‰æºé›†çº¿å™¨
  - ä¸­ç»§å™¨

> æ˜¯ç‰©ç†å±‚é¢çš„æ¦‚å¿µ

#### å¹¿æ’­åŸŸ

- èƒ½æ¥æ”¶åˆ°åŒæ ·å¹¿æ’­å¸§çš„èŠ‚ç‚¹çš„ä¹‹å’Œ, åœ¨æ•°æ®é“¾è·¯å±‚
- å› æ­¤, ä»…å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚åŠä»¥ä¸‹çš„è®¾å¤‡æ— æ³•åˆ’åˆ†å¹¿æ’­åŸŸ, ä¾‹å¦‚
  - æ— æ³•åˆ’åˆ†å†²çªåŸŸçš„è®¾å¤‡ ğŸ‘†
  - äºŒå±‚äº¤æ¢æœº
  - ç½‘æ¡¥å’Œé€æ˜ç½‘æ¡¥
- é€šè¿‡åˆ’åˆ† VLAN å¯ä»¥éš”ç¦»å¹¿æ’­åŸŸ, æ‰€ä»¥æ¯ä¸€ä¸ª VLAN éƒ½æ˜¯ä¸€ä¸ªå¹¿æ’­åŸŸ

> æ¶‰åŠåˆ°äº†å¸§, æ˜¯æ•°æ®é“¾è·¯å±‚çš„æ¦‚å¿µ

### VLAN (è™šæ‹Ÿå±€åŸŸç½‘)

- å°† LAN åˆ’åˆ†ä¸ºé€»è¾‘ä¸Šçš„ç½‘æ®µ
- ä¸åŒ VLAN ä¹‹é—´ä¸èƒ½ç›´æ¥é€šä¿¡, è¿™å°±åˆ’åˆ†äº†å¹¿æ’­åŸŸ
- å¯ä»¥åŸºäºç«¯å£, ç‰©ç†åœ°å€, é€»è¾‘åœ°å€, å¤šæ’­åœ°å€ç­‰åˆ’åˆ† VLAN

> *æƒ³æƒ³è®¡ç½‘å®éªŒ*

## Chapter 16 æ— çº¿ WANï¼šç§»åŠ¨ç”µè¯å’Œå«æ˜Ÿç½‘ç»œ

ä»…è¦æ±‚äº†è§£, çœ‹ä¹¦å³å¯

## Chapter 17 å¹¿åŸŸç½‘ SONET/SDH

ä»…è¦æ±‚äº†è§£ SONET çš„åŸºæœ¬æ¦‚å¿µ

## Chapter 18 è™šç”µè·¯ç½‘ç»œï¼šå¸§ä¸­ç»§å’Œ ATM

### å¸§ä¸­ç»§

#### ç‰¹å¾ [IMP]

- ç›¸å¯¹äºæ­¤å‰çš„ X.25 è™šç”µè·¯äº¤æ¢ç½‘, å…·æœ‰æ›´å¿«çš„é€Ÿç‡ (1.544Mbps ~ 44.376Mbps)
- å·¥ä½œåœ¨ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚
- å…è®¸çªå‘æ€§æ•°æ® (é€Ÿç‡ä¸å‡è¡¡, å¯æŒ‰éœ€åˆ†é…å¸¦å®½)
- æœ€å¤§å¸§å¤§å° 9000 å­—èŠ‚, æ”¯æŒæ‰€æœ‰å±€åŸŸç½‘çš„å¸§
- ä»…åœ¨æ•°æ®é“¾è·¯å±‚æœ‰é”™è¯¯æ£€æµ‹, æ— æµé‡ä¸å·®é”™æ§åˆ¶, æ›´å¿«
- å¸§ä¸­ç»§ä¸­çš„ VCI (è™šç”µè·¯æ ‡è¯†ç¬¦) ç§°ä½œ DLCI

> VCI: Virtual Circuit Identifer
> DLCI: DataLink Connection Identifer

#### æ°¸ä¹…äº¤æ¢è™šç”µè·¯ (PVC)

> PVC: Permanent Virtual Circuit

- ç”±ç®¡ç†å‘˜ä¸ºæ‰€æœ‰çš„äº¤æ¢æœºå»ºç«‹ç»Ÿä¸€è®¾ç½®: æºåœ°å€åˆ†é…ä¸€ä¸ª VCI, ç›®çš„åœ°å€åˆ†é…ä¸€ä¸ª VCI
- ç¼ºç‚¹:
  - èŠ±è´¹å¤§, å³ä½¿æœªä½¿ç”¨ä¹Ÿéœ€ä¸€ç›´ä»˜è´¹ (å› ä¸ºè¿æ¥ä¸€ç›´å­˜åœ¨)
  - åªèƒ½åœ¨ä¸€ä¸ªæºåœ°å€å’Œä¸€ä¸ªç›®çš„åœ°å€é—´å»ºç«‹è¿æ¥

#### äº¤æ¢è™šç”µè·¯ (SVC)

> SVC: Switched Virtual Circuit

- å»ºç«‹çŸ­çš„, ä¸´æ—¶çš„è¿æ¥
- éœ€è¦è¿æ¥å»ºç«‹å’Œç»ˆæ­¢é˜¶æ®µ

#### å¸§ç»“æ„

å»ºè®®çœ‹ä¹¦ p344

### ATM (å¼‚æ­¥ä¼ è¾“æ¨¡å¼)

> ATM: Asychoronous Transfer Mode

#### ç‰¹å¾

- é«˜é€Ÿäº’è”, ä½œä¸ºç½‘é—´ä¸»å¹²äº’è”çš„åè®®
- é¢å‘è¿æ¥, æä¾›å‡†ç¡®å¯é¢„æµ‹çš„ä¼ è¾“
- æ˜¯ä¿¡å…ƒç½‘ç»œ, é‡‡ç”¨å›ºå®šå¤§å°çš„ä¿¡å…ƒä½œä¸ºæ•°æ®äº¤æ¢çš„åŸºæœ¬å•ä½
  - å¯ä»¥é¿å…å¤šè·¯å¤ç”¨æ—¶å…ˆåˆ°è¾¾çš„å¤§å‹å¸§å¯¹ååˆ°è¾¾çš„å°å‹å¸§çš„é•¿æ—¶é—´é˜»å¡
- é‡‡ç”¨å¼‚æ­¥çš„æ—¶åˆ†å¤ç”¨ (TDM) å®ç°å¤šè·¯å¤ç”¨
  - æ—¶éš™å¤§å°ä¸ºä¸€ä¸ªä¿¡å…ƒçš„å¤§å°
  - å¯ä»¥å­˜åœ¨ç©ºæ—¶éš™

#### ç»“æ„ [IMP]

- ç”¨æˆ·è®¾å¤‡ç§°ä¸ºç«¯ç‚¹
- ç«¯ç‚¹åˆ°ç½‘ç»œæ¥å£: ç”¨æˆ·åˆ°ç½‘ç»œæ¥å£, UNI (User-to-Network Interface)
- äº¤æ¢æœºä¹‹é—´: ç½‘ç»œåˆ°ç½‘ç»œæ¥å£, NNI (Network-to-Network Interface)
- ä¼ è¾“è·¯å¾„ TP
  - Transmission Path
  - æ˜¯ç«¯ç‚¹ä¸äº¤æ¢æœºä¹‹é—´, æˆ–ä¸¤äº¤æ¢æœºä¹‹é—´çš„æ‰€æœ‰ç‰©ç†è¿æ¥
  - ç±»ä¼¼äºè¿æ¥ä¸¤ä¸ªåŸå¸‚çš„é«˜é€Ÿå…¬è·¯çš„é›†åˆ
- è™šè·¯å¾„ VP
  - Virtual Path
  - ä¸¤ä¸ªäº¤æ¢æœºä¹‹é—´çš„ä¸€æ¡æˆ–å¤šæ¡è¿æ¥çš„é›†åˆ
  - ç±»ä¼¼äºä¸¤åŸå¸‚é—´çš„ä¸€æ¡é«˜é€Ÿå…¬è·¯
- è™šç”µè·¯ VC
  - Virtual Circuit
  - ä¿¡å…ƒç½‘ç»œåŸºäºè™šç”µè·¯
  - å±äºåŒä¸€æŠ¥æ–‡çš„æ‰€æœ‰ä¿¡å…ƒæ²¿ç€åŒä¸€æ¡è™šç”µè·¯ä¼ è¾“, åŒæ—¶ä¿æŒå…ˆåæ¬¡åº
- é€šè¿‡ VPI å’Œ VCI æ¥å®šä¹‰ä¸€ä¸ªè™šè¿æ¥, å‰è€…å®šä¹‰ç‰¹å®š VP, åè€…å®šä¹‰ç‰¹å®š VC

![TP VP VC](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210620160805.png)

![TP VP VC](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210620160831.png)

> TP VP VC é—´å…³ç³»

# Part 4 ç½‘ç»œå±‚

## Chapter 19 é€»è¾‘å¯»å€ [IMP]

### IPv4 åœ°å€

- 32 ä½é•¿
- åœ¨ç½‘ç»œä¸­å”¯ä¸€ä¸é€šç”¨
- ä½¿ç”¨äºŒè¿›åˆ¶æ ‡è®°æ³•å’Œç‚¹åˆ†åè¿›åˆ¶æ ‡è®°æ³•
  - äºŒè¿›åˆ¶æ ‡è®°æ³•: äºŒè¿›åˆ¶è¡¨ç¤º, å…«ä½ä¸€ä¸ªç©ºæ ¼
  - ç‚¹åˆ†åè¿›åˆ¶: æ¯ä¸ªå­—èŠ‚è¡¨ç¤ºä¸ºåè¿›åˆ¶æ•°, ä¸­é—´ç”¨å°æ•°ç‚¹åˆ†å‰²

#### åˆ†ç±»å¯»å€

- åˆ’åˆ†ä¸ºäº”ç±»: A ~ E
- é€šè¿‡ç¬¬ä¸€ä¸ªå­—èŠ‚æœ€å¼€å§‹æœ‰å‡ ä¸ª 1 å†³å®šåˆ†ç±»

![Class](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210621005156.png)

|ç±»|å—çš„ä¸ªæ•°|å—é•¿åº¦|åº”ç”¨ç±»å‹|
|----- |------|------|-----|
|A|128|16 777 216|å•æ’­|
|B|16 384|65 536|å•æ’­|
|C|2 097 152|256|å•æ’­|
|D|1|268 435 456|å¤šæ’­|
|E|1|268 435 456|ä¿ç•™|

- A B C ç±»åˆ†ä¸ºç½‘ç»œå·å’Œä¸»æœºå·
  - ç½‘ç»œå·å„è‡ªå  1 2 3 ä¸ªå­—èŠ‚
- é€šè¿‡æ©ç åˆ’åˆ†, æ©ç  32 ä½
- å­ç½‘åŒ–: é€šè¿‡å»¶é•¿æ©ç ä¸­ 1 çš„é•¿åº¦æ¥å°†ä¸€ä¸ªå¤§çš„åœ°å€å—å„¿åˆ’åˆ†ä¸ºåŒ…å«è¾ƒå°‘ä¸»æœºçš„å­ç½‘
- è¶…ç½‘åŒ–: é€šè¿‡ç¼©çŸ­æ©ç ä¸­ 1 çš„é•¿åº¦æ¥å°†å‡ ä¸ªå°çš„åœ°å€å—å„¿åˆ’åˆ†ä¸ºä¸€ä¸ªå¤§çš„å­ç½‘, æ— ç±»å¯»å€ä¸éœ€è¦ (å› ä¸ºä½ å¯ä»¥ç›´æ¥åˆ’åˆ†å‡ºæ¥å¤§çš„åœ°å€å—å„¿)

#### æ— ç±»å¯»å€

- æ²¡æœ‰ç±»çš„æ¦‚å¿µ, ä½†æ˜¯ä»åˆ’åˆ†ä¸ºåœ°å€å—
- åœ°å€å—çš„é™åˆ¶æ¡ä»¶
  - å—ä¸­åœ°å€å¿…é¡»è¿ç»­
  - å—ä¸­åœ°å€ä¸ªæ•°å¿…é¡»ä¸º 2 çš„æ•´æ•°æ¬¡å¹‚
  - å—çš„èµ·å§‹åœ°å€å¿…é¡»èƒ½è¢«å—ä¸­åœ°å€ä¸ªæ•°æ•´é™¤
- é€šè¿‡ CIDR æ ‡è®°æ³•å®šä¹‰å—åœ°å€
  - x.y.z.t/n
  - å…¶ä¸­ /n ä¸ºæ©ç , n ä¸ºæ©ç ä¸­ 1 çš„ä½æ•° (æ©ç ä¸­çš„ 1 å¿…å®šè¿ç»­)
- èµ·å§‹åœ°å€: é€šè¿‡å°†å—ä¸­æŸä¸ªåœ°å€çš„å 32-n ä½ç½®ä¸º 0 æ±‚å¾— (ä¹Ÿå°±æ˜¯æŠŠåœ°å€å’Œæ©ç è¿›è¡Œä¸è¿ç®—)
- æœ€åçš„åœ°å€: é€šè¿‡å°†å—ä¸­æŸä¸ªåœ°å€çš„å 32-n ä½ç½®ä¸º 1 æ±‚å¾—
- åœ°å€ä¸ªæ•°: $2^{(32-n)}$
- ç½‘ç»œåœ°å€: ä»£è¡¨æ•´ä¸ªç½‘ç»œ, é€šå¸¸æ˜¯å—çš„èµ·å§‹åœ°å€

##### å±‚æ¬¡ç»“æ„

- äºŒçº§å±‚æ¬¡ç»“æ„: æ²¡æœ‰å­ç½‘åŒ–, åªæœ‰ç½‘ç»œå‰ç¼€ (å‰ n ä½) å’Œå®šä¹‰ä¸»æœºçš„å n ä½
- ä¸‰çº§å±‚æ¬¡ç»“æ„: æœ‰å­ç½‘åŒ–, é€šè¿‡å­ç½‘å‰ç¼€åˆ’åˆ†å­ç½‘ -> å¢åŠ æ©ç ä¸­ 1 é•¿åº¦, å³ n

#### NAT (ç½‘ç»œåœ°å€è½¬æ¢)

> NAT: Network Address Translation

- ä½¿å¤§é‡ä¸»æœºå…±äº«æœ‰é™çš„å¤–éƒ¨åœ°å€
- åœ¨å†…éƒ¨ç½‘ç»œåˆ†é…ä¸“ç”¨åœ°å€, å¯¹å¤–è¡¨ç°ä¸ºå…¬ç½‘åœ°å€
  - åœ¨å‘å¤–ç½‘å‘é€æ—¶æŠŠåˆ†ç»„çš„æºåœ°å€æ›¿æ¢ä¸ºå…¬ç½‘åœ°å€, åŒæ—¶åœ¨è¡¨ä¸­æ·»åŠ ä¸“ç”¨åœ°å€-å…¬ç½‘åœ°å€çš„æ¡ç›®
  - æ¥å—æ—¶é€šè¿‡æŸ¥è¡¨ç¡®å®šå¯¹åº”å…³ç³»
  - å¯ä»¥é‡‡ç”¨ IP åœ°å€æ± æ¥å¯¹å¤–åŒæ—¶ä½¿ç”¨å¤šä¸ªå…¬ç½‘åœ°å€
  - å¯ä»¥åœ¨è½¬æ¢è¡¨ä¸­åŒæ—¶é‡‡ç”¨ä½¿ç”¨ IP åœ°å€å’Œç«¯å£å·æ¥å®ç°å†…å¤–ç½‘å¤šå¯¹å¤šçš„è½¬æ¢
    - è¡¨ä¸­æœ‰äº”åˆ—: ä¸“ç”¨åœ°å€ä¸ç«¯å£, å¤–éƒ¨åœ°å€ä¸ç«¯å£, ä¼ è¾“åè®®
    - å¤–éƒ¨çš„å“åº”æŠ¥æ–‡é€šè¿‡ç›®çš„åœ°å€å’Œç›®çš„ç«¯å£å·(å’Œå†…ç½‘ä¸­çš„å‘èµ·æ–¹ä½¿ç”¨çš„ä¸´æ—¶ç«¯å£ç›¸åŒ)ç¡®å®šå†…ç½‘çš„æ¥æ”¶è€…
    - ä¸´æ—¶ç«¯å£å·å¿…é¡»å”¯ä¸€

### IPv6 åœ°å€

- 16 ä¸ªå­—èŠ‚, 128 ä½
- é‡‡ç”¨åå…­è¿›åˆ¶å†’å·æ ‡è®°æ³•
  - æ¯ä¸¤ä¸ªå­—èŠ‚ä¸€éƒ¨åˆ†, ä½œä¸ºå››ä¸ªåå…­è¿›åˆ¶æ•°å­—
  - æ¯éƒ¨åˆ†ä¹‹é—´ç”¨å†’å·åˆ†éš”
- å¯ä»¥ç¼©çŸ­, éœ€è¦æ»¡è¶³
  - åœ¨ä¸¤ä¸ªå†’å·ä¹‹é—´ (æ‰€ä»¥å¼€å¤´å’Œç»“å°¾ä¸èƒ½ç¼©çŸ­)
  - é«˜ä½çš„è¿ç»­çš„ 0 å¯ä»¥ç¼©çŸ­
  - è‹¥æœ‰è¿ç»­çš„å‡ ä¸ªéƒ¨åˆ†ä»…åŒ…å« 0, åˆ™å¯ä»¥æŠŠè¿™äº› 0 ç”¨ä¸¤ä¸ªå†’å·ä»£æ›¿, **ä½†è¿™ç§ç¼©çŸ­åªèƒ½ç”¨ä¸€æ¬¡**
  - ä¾‹å¦‚ FDEC : 0074 : 0000 : 0000 : 0000 : B0FF : 0000 : FFF0
    - ç¼©çŸ­: FDEC : 74 : 0 : 0 : 0 : B0FF : 0 : FFF0 (å»æ‰äº†æ¯ä¸ªéƒ¨åˆ†çš„å‰å¯¼ 0)
    - æ›´ç¼©çŸ­: FDEC : 74 :: B0FF : 0 : FFF0 (æŠŠè¿ç»­çš„ 0 åˆå¹¶)
- ç¼©çŸ­åœ°å€çš„æ¢å¤
  - å°†æœªç¼©çŸ­çš„éƒ¨åˆ†å¯¹é½
  - å°† 0 æ’å…¥

## Chapter 20 IPåè®®

### ç½‘é™…äº’è¿

- å› ç‰¹ç½‘ä¸­çš„ç½‘ç»œå±‚äº¤æ¢é‡‡ç”¨æ•°æ®åŒ…åˆ†ç»„äº¤æ¢
  - æ˜¯æ— è¿æ¥çš„
  - å„åˆ†ç»„ä¹‹é—´æ²¡æœ‰è”ç³»
  - åŒä¸€æŠ¥æ–‡çš„å„åˆ†ç»„å¯èƒ½é‡‡ç”¨ä¸åŒè·¯å¾„

### IPv4

#### æ•°æ®æŠ¥æ ¼å¼ [IMP]

![ipv4](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210621151131.png)

![ipv4](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210621150443.png)

> HLEN: Header Length, å¤´éƒ¨é•¿åº¦

- ç‰ˆæœ¬: å®šä¹‰ IPv4 ç‰ˆæœ¬, è‹¥é”™è¯¯åˆ™ç›´æ¥ä¸¢å¼ƒæ•°æ®æŠ¥
- å¤´éƒ¨é•¿åº¦: æ•°æ®æŠ¥å¤´éƒ¨çš„æ€»é•¿åº¦**é™¤ä»¥4**, å¯¹ä¸å«é€‰é¡¹çš„å¤´éƒ¨, é•¿åº¦ä¸º 20 å­—èŠ‚, å€¼ä¸º 5
- æœåŠ¡: æœ‰ä¸¤ç§è§£é‡Šæ–¹æ³•, æœåŠ¡ç±»å‹å’Œå·®åˆ†æœåŠ¡
  - æœåŠ¡ç±»å‹
    - å‰ä¸‰ä½æŒ‡å®šä¼˜å…ˆçº§, åœ¨é‡åˆ°æ‹¥å¡æ—¶å…ˆä¸¢å¼ƒä½ä¼˜å…ˆçº§çš„ (æœªä½¿ç”¨)
    - åå››ä½ç§°ä¸º TOS ä½, å‰ä¸‰ä½åˆ†åˆ«æŒ‡å®šä½å»¶è¿Ÿ, æœ€å¤§åŒ–ååé‡å’Œæœ€é«˜å¯é æ€§, æœ€åä¸€ä½æ²¡ç”¨
  - å·®åˆ†æœåŠ¡
    - åä¸¤ä½ä¸ç”¨
    - å‰å…­ä½ç»„æˆç ç‚¹å­å­—æ®µ
      - æœ€å³ä¾§ä¸‰ä½ä¸º 0, åˆ™å‰ä¸‰ä½å’Œ"æœåŠ¡ç±»å‹"çš„è§£é‡Šæ–¹å¼ç›¸åŒ
      - å¦åˆ™, å®šä¹‰ 64 ç§æœåŠ¡ (ç„¶è€Œå…·ä½“çš„åˆ†é…æ–¹å¼è¿˜æ²¡å®šä¸‹æ¥, çœ‹çœ‹å°±è¡Œ)
- æ€»é•¿åº¦: ä»¥å­—èŠ‚è®¡ç®—çš„æ•°æ®æŠ¥æ€»é•¿åº¦, åŒ…æ‹¬å¤´éƒ¨é•¿åº¦å’Œæ•°æ®é•¿åº¦
  - å¯ä»¥é è¿™ä¸ªæŠŠæ•°æ®æŠ¥å’Œå¡«å……åˆ†å¼€, æ¯”å¦‚ä»¥å¤ªç½‘æœ€ä½è¦æ±‚ 46 å­—èŠ‚çš„å¸§
- æ ‡è¯†, æ ‡è®°å’Œåˆ†æ®µåç§»: å’Œåˆ†æ®µæœ‰å…³, è§åé¢
- ç”Ÿå­˜æ—¶é—´: èƒ½ç»è¿‡è·¯ç”±å™¨è½¬å‘çš„æ•°é‡, æ¯ä¸ªè·¯ç”±å™¨æ”¶åˆ°åå…ˆå‡ä¸€, ä¸º 0 æ—¶ç›´æ¥ä¸¢å¼ƒ, å¹¶å›é€ä¸€ä¸ªé”™è¯¯ä¿¡æ¯
- åè®®: æŒ‡å®šäº†è¯¥æ•°æ®æŠ¥ä½¿ç”¨çš„é«˜å±‚åè®®, ä¾‹å¦‚ TCP UDP ICMP ç­‰
- æ ¡éªŒå’Œ: ä»…è®¡ç®—å¤´éƒ¨ (æ•°æ®éƒ¨åˆ†çš„æ ¡éªŒå’Œç”±é«˜å±‚åè®®è´Ÿè´£)
  - å°†å¤´éƒ¨æŒ‰ç…§ 16 ä½åˆ’åˆ†
  - å¯¹è¿™äº›æ•°æ±‚å’Œ, æ­£å¸¸è¿›ä½, åŒæ—¶æœ€é«˜ä½çš„è¿›ä½åŠ åˆ°æœ€ä½ä½ä¸Š
  - å¯¹ç»“æœå–åç 
- é€‰é¡¹: å¯é€‰çš„é€‰é¡¹, çœ‹ä¹¦ p393

#### MTU (æœ€å¤§ä¼ è¾“å•å…ƒ) ä¸åˆ†æ®µ

> MTU: Maximum Transmission Unit

- æ¯ä¸ªæ•°æ®é“¾è·¯å±‚åè®®éƒ½æœ‰è‡ªå·±çš„å¸§æ ¼å¼, ä¹Ÿå°±å®šä¹‰äº†è¯¥åè®®ä¸‹æœ€å¤§çš„æ•°æ®é•¿åº¦
- ä¸ºäº†è®© IPv4 åè®®ä¸ç‰©ç†ç½‘ç»œæ— å…³, IPv4 æ•°æ®æŠ¥çš„æœ€å¤§é•¿åº¦ä¸º 65535 å­—èŠ‚, æ˜¯å¸¸è§çš„ç½‘ç»œä¸­æœ€å¤§çš„ MTU å€¼
- åˆ†æ®µåœ¨ä¼ è¾“å±‚è¿›è¡Œ
- æ•°æ®æŠ¥åœ¨åˆ°è¾¾æœ€ç»ˆç›®çš„ç«¯å‰, å¯èƒ½è¢«å¤šæ¬¡åˆ†æ®µ
- æ ‡è¯†: ä¸€ä¸ªåºåˆ—å·, å®šä¹‰äº†ç‰¹å®šçš„ä»æºç«¯å‘å‡ºçš„æ•°æ®æŠ¥, **åˆ†æ®µä¸æ”¹å˜æ ‡è¯†**
- æ ‡è®°: 3 ä½å­—æ®µ
  - ç¬¬ä¸€ä½: ä¿ç•™ä¸ç”¨
  - ç¬¬äºŒä½: ä¸åˆ†æ®µä½ (DF, Don't Fragment), ä¸º 1 æ—¶å¼ºåˆ¶ç¦æ­¢åˆ†æ®µ, è‹¥è¶…è¿‡ MTU ä¼šå¯¼è‡´æ— æ³•å‘é€å¹¶å›é€é”™è¯¯ä¿¡æ¯
  - ç¬¬ä¸‰ä½: å¤šåˆ†æ®µä½, è‹¥ä¸º 1 è¡¨æ˜è¿™ä¸æ˜¯æœ€åçš„åˆ†æ®µ, ä¸º 0 è¡¨ç¤ºæ˜¯æœ€åæˆ–å”¯ä¸€çš„åˆ†æ®µ
- åˆ†æ®µåç§»: è¡¨ç¤ºäº†è¯¥åˆ†æ®µçš„ç¬¬ä¸€ä¸ªå­—èŠ‚åœ¨æ•´ä¸ªæ•°æ®æŠ¥ä¸­çš„ç›¸å¯¹ä½ç½®, **å•ä½æ˜¯ 8 å­—èŠ‚, ä¹Ÿå°±æ˜¯é™¤ä»¥ 8**
  - æ‰€ä»¥åˆ†æ®µæ—¶æ¯ä¸ªåˆ†æ®µçš„é•¿åº¦å¿…é¡»æ»¡è¶³ä½¿æ¯ä¸ªåˆ†æ®µçš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„ä½ç½®ä¸º 8 çš„æ•´æ•°å€
- é‡ç»„æ–¹æ³•:
  - ç¬¬ä¸€ä¸ªåˆ†æ®µçš„åˆ†æ®µåç§»ä¸º 0
  - ç¬¬ä¸€ä¸ªåˆ†æ®µçš„é•¿åº¦é™¤ä»¥ 8 å¾—åˆ°ç¬¬äºŒä¸ªåˆ†æ®µçš„åç§»å€¼
  - ç¬¬ä¸€äºŒä¸ªåˆ†æ®µçš„é•¿åº¦ä¹‹å’Œé™¤ä»¥ 8 å¾—åˆ°ç¬¬ä¸‰ä¸ªåˆ†æ®µçš„åç§»å€¼
  - é‡å¤ä»¥ä¸Šè¿‡ç¨‹, æœ€åä¸€ä¸ªåˆ†æ®µçš„ å¤šåˆ†æ®µä½ ä¸º 0

### IPv6

#### æ•°æ®æŠ¥æ ¼å¼ [IMP]

![ipv6](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210621195449.png)

- **åŸºæœ¬å¤´éƒ¨å›ºå®š 40 å­—èŠ‚, é€‰é¡¹ç­‰æ”¾åœ¨æ‰©å±•å¤´éƒ¨**
- ç‰ˆæœ¬: IPv6 çš„ç‰ˆæœ¬å·, ä¸º 6
- ä¼˜å…ˆçº§: å‘ç”Ÿæ‹¥å¡æ—¶å†³å®šä¸¢å¼ƒé¡ºåº, åˆ†ä¸ºå¯è¿›è¡Œæ‹¥å¡æ§åˆ¶çš„é€šä¿¡é‡å’Œä¸å¯è¿›è¡Œ...
  - å¯è¿›è¡Œæ‹¥å¡æ§åˆ¶: åˆ† 0~7, 0 æœ€ä½, ä¸åŒæœåŠ¡ç±»å‹çš„ä¼˜å…ˆçº§ä¸åŒ
  - ä¸å¯è¿›è¡Œæ‹¥å¡æ§åˆ¶: å°šæœªæŒ‡å®š, 8~15, 8 ä¸ºå…·æœ‰æœ€å¤§å†—ä½™åº¦çš„æ•°æ® (å°±æ˜¯ä¸¢ä¸€ç‚¹å„¿å½±å“ä¹Ÿæ²¡é‚£ä¹ˆå¤§çš„)
- æµæ ‡å·: æ ‡è¯†äº†ä¸€ä¸ªæ•°æ®æŠ¥ç³»åˆ—, å®ƒä»¬æ¥æºäºåŒä¸€ä¸ªåœ°å€, å»å¾€åŒä¸€ä¸ªåœ°å€, ä½¿ç”¨åŒæ ·çš„æœåŠ¡
- æœ‰æ•ˆè½½è·é•¿åº¦: **å®šä¹‰å­˜åœ¨å†²çª, è§ä¸‹é¢**
- ä¸‹ä¸€ä¸ªå¤´éƒ¨: ä¸‹ä¸€ä¸ªå¯é€‰çš„æ‰©å±•å¤´éƒ¨çš„ä½ç½®, æˆ–è€…æ˜¯ä¸Šå±‚åè®® (æ¯”å¦‚ UDP/TCP) çš„å¤´éƒ¨
- è·³æ•°é™åˆ¶: ç±»ä¼¼äº IPv4 ä¸­çš„ TTL (ç”Ÿå­˜æ—¶é—´)
- æºåœ°å€: å‘é€æ–¹çš„åœ°å€
- ç›®çš„åœ°å€: è‹¥ä½¿ç”¨äº†æºè·¯ç”±é€‰æ‹©, åˆ™ä¸ºä¸‹ä¸€ä¸ªè·¯ç”±å™¨çš„åœ°å€, å¦åˆ™å°±æ˜¯æœ€ç»ˆç›®çš„åœ°çš„åœ°å€

### IPv4 IPv6 å¤´éƒ¨å¯¹æ¯”

- IPv6 å–æ¶ˆäº†å¤´éƒ¨é•¿åº¦å­—æ®µ, å› ä¸º v6 å¤´éƒ¨å›ºå®š 40 å­—èŠ‚
- IPv6 å–æ¶ˆäº†æœåŠ¡ç±»å‹, ç”¨ä¼˜å…ˆçº§+æµæ ‡å·ä»£æ›¿åŠŸèƒ½
- IPv6 å–æ¶ˆäº†æ€»é•¿åº¦å­—æ®µ, ä½¿ç”¨æœ‰æ•ˆè½½è·é•¿åº¦ä»£æ›¿ **è¿™ç‚¹æœ‰ç‚¹å°å†²çª, è¯¦æƒ…çœ‹ä¸‹é¢**
- IPv6 åŸºæœ¬å¤´éƒ¨ä¸­å–æ¶ˆäº†æ ‡è¯†, æ ‡è®°å’Œåˆ†ç»„åç§», æ”¾åœ¨äº†æ‰©å±•å¤´éƒ¨é‡Œ
- IPv6 å°† TTL ç§°ä¸ºè·³æ•°é™åˆ¶
- åè®®å­—æ®µè¢«æ›¿æ¢æˆä¸‹ä¸€ä¸ªå¤´éƒ¨å­—æ®µ
- å¤´éƒ¨ä¸å†åŒ…å«æ ¡éªŒå’Œ
- IPv4 ä¸­çš„é€‰é¡¹ç§»åŠ¨åˆ°äº† IPv6 çš„æ‰©å±•å¤´éƒ¨ä¸­

> **å…³äº IPv6 çš„æœ‰æ•ˆè½½è·é•¿åº¦å’Œ IPv4 çš„æ€»é•¿åº¦**
> æŒ‰ç…§ä¹¦ä¸Šè¯´æ³•, IPv6 çš„æœ‰æ•ˆè½½è·é•¿åº¦ä¸º "åŒ…æ‹¬åŸºæœ¬å¤´éƒ¨åœ¨å†…çš„IPæ•°æ®æŠ¥çš„æ€»é•¿åº¦", è¿™ä¸ªè¯´æ³•å…¶å®å’Œ IPv4 çš„æ€»é•¿åº¦å®šä¹‰ä¸€æ ·
> ä½†æ˜¯è€å¸ˆçš„ PPT ä¸Šå’Œæˆ‘æŸ¥çš„ [Wiki](https://en.wikipedia.org/wiki/IPv6_packet#Standard_payload_length) ä¸Šéƒ½è®¤ä¸º **æœ‰æ•ˆè½½è·é•¿åº¦ä¸ºé™¤åŸºæœ¬å¤´éƒ¨ä¹‹å¤–çš„æ•°æ®æŠ¥é•¿åº¦**
> ç­‰å¾…æŸ¥è¯ 0.0

### IPv4 IPv6 æ··åˆ

- åŒåè®®æ ˆ: åŒæ—¶æ”¯æŒ IPv4 å’Œ v6
- éš§é“æŠ€æœ¯
  - v6 -> v4 -> v6
  - é€šè¿‡åœ¨ v6 åˆ†ç»„å‰æ·»åŠ ä¸€ä¸ª v4 çš„å¤´éƒ¨æ¥è®©åˆ†ç»„é€šè¿‡ä»…æ”¯æŒ v4 çš„åŒºåŸŸ
- å¤´éƒ¨è½¬æ¢
  - v6 -> v4
  - ç”±äºæ¥æ”¶æ–¹ä»…æ”¯æŒ v4, ä½†å‘é€æ–¹ä½¿ç”¨ v6, å› æ­¤åœ¨æœ€åè½¬å‘ç»™æ¥æ”¶æ–¹å‰æŠŠ v6 çš„å¤´éƒ¨è½¬æ¢ä¸º v4 çš„å¤´éƒ¨

## Chapter 21 åœ°å€æ˜ å°„ã€å·®é”™æŠ¥å‘Šå’Œå¤šæ’­

### ARP

> ARP: Address Resolution Protocol, åœ°å€è§£æåè®®

#### æ¦‚å¿µ [IMP]

- é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€
- **ç›´æ¥å°è£…åˆ°æ•°æ®é“¾è·¯å±‚çš„å¸§ä¸­**
- ARP æŸ¥è¯¢æ˜¯å¹¿æ’­, ARP å›ç­”æ˜¯å•æ’­ (æŒæœ‰å¯¹åº”é€»è¾‘åœ°å€çš„èŠ‚ç‚¹è¿”å›è‡ªå·±çš„ç‰©ç†åœ°å€)
- æ”¯æŒæ‰€æœ‰çš„ç‰©ç†åœ°å€ä¸é€»è¾‘åœ°å€ç±»å‹

#### åˆ†ç»„æ ¼å¼

![arp](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210621205627.png)

- ç¡¬ä»¶ç±»å‹: æŒ‡å®šäº†ç‰©ç†ç½‘ç»œçš„ç±»å‹, æ¯”å¦‚ä»¥å¤ªç½‘
- åè®®ç±»å‹: æŒ‡å®šäº†ä½¿ç”¨é€»è¾‘åœ°å€çš„é«˜å±‚åè®®çš„ç±»å‹, æ¯”å¦‚ IPv4
- ä¸¤ä¸ªé•¿åº¦: å­—èŠ‚ä¸ºå•ä½, æŒ‰éœ€æ±‚å¡«, æ¯”å¦‚ä»¥å¤ªç½‘ç‰©ç†åœ°å€é•¿åº¦æ˜¯ 6, IPv4 åè®®é•¿åº¦ (å°±æ˜¯é€»è¾‘åœ°å€é•¿åº¦) ä¸º 4
- æ“ä½œ: åˆ†ä¸º ARP è¯·æ±‚å’Œ ARP å›ç­”
- å››ä¸ªåœ°å€: æŒ‰éœ€å¡«
  - æ³¨æ„, åœ¨ ARP è¯·æ±‚ä¸­, ç›®æ ‡ç¡¬ä»¶åœ°å€å¡« 0, å› ä¸ºè¿™æ—¶è¿˜ä¸çŸ¥é“

#### æ“ä½œ

##### æµç¨‹

1. å‘é€æ–¹æƒ³è¦å‘é€æŠ¥æ–‡, çŸ¥é“æ¥æ”¶æ–¹çš„é€»è¾‘åœ°å€ä½†ä¸çŸ¥é“ç‰©ç†åœ°å€
2. å‘é€æ–¹äº§ç”Ÿä¸€ä¸ª ARP è¯·æ±‚æŠ¥æ–‡, ç›®æ ‡çš„ç‰©ç†åœ°å€å¡« 0
3. è¯·æ±‚æŠ¥æ–‡å‘é€ç»™æ•°æ®é“¾è·¯å±‚, å°è£…æˆå¸§, ç›®çš„åœ°å€ä¸ºå¹¿æ’­åœ°å€
4. æ‰€æœ‰ç«™ç‚¹éƒ½æ¥å—åˆ°è¿™ä¸ªè¯·æ±‚, ä½†æ¯”å¯¹è¯·æ±‚æŠ¥æ–‡ä¸­çš„ç›®æ ‡é€»è¾‘åœ°å€å, ä»…æœ‰ç›¸ç¬¦çš„é‚£ä¸ªç«™ç‚¹æ‰ä¼šäº§ç”Ÿå›åº”
5. ç›¸ç¬¦çš„ç«™ç‚¹ (å³æ¥æ”¶æ–¹) ä½¿ç”¨ ARP å›åº”æŠ¥æ–‡, å…¶ä¸­åŒ…å«äº†è‡ªå·±çš„ç‰©ç†åœ°å€, å•æ’­
6. å‘é€æ–¹å¾—çŸ¥æ¥æ”¶æ–¹çš„ç‰©ç†åœ°å€, å³å¯å‘é€æŠ¥æ–‡

### DHCP

> DHCP: Dynamic Host Configuration Protocol, åŠ¨æ€ä¸»æœºé…ç½®åè®®

- é€šè¿‡å‘æœåŠ¡å™¨è¯·æ±‚è‡ªåŠ¨è·å¾—é€»è¾‘åœ°å€
- å¯ä»¥äººå·¥é…ç½®é™æ€çš„ç‰©ç†åœ°å€å’Œé€»è¾‘åœ°å€é—´çš„å¯¹åº”å…³ç³», ä¹Ÿå¯ä»¥åœ¨åœ°å€æ± ä¸­è‡ªåŠ¨åˆ†é…
- è‡ªåŠ¨åˆ†é…çš„åœ°å€ä¸ºç§Ÿç”¨åœ°å€, æœ‰æ—¶é—´ä¸Šé™, åˆ°æœŸåéœ€è¦æ›´æ–°æˆ–åœç”¨

### ICMP

> ICMP: Internet Control Message Protocol, å› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®®

#### æ¦‚å¿µ [IMP]

> æˆ‘è§‰å¾—ä¸ç”¨è®°åŠŸèƒ½ç»†èŠ‚...

- æä¾›å·®é”™æŠ¥å‘ŠæŠ¥æ–‡å’ŒæŸ¥è¯¢æŠ¥æ–‡
- ICMP ä¸èƒ½çº æ­£å·®é”™, åªèƒ½æŠŠå‡ºé”™ä¿¡æ¯å‘å›ç»™åŸå§‹çš„æºç«¯

#### æŠ¥æ–‡æ ¼å¼ [IMP]

- å°è£…åœ¨ IP æ•°æ®æŠ¥é‡Œé¢
- å¤´éƒ¨å›ºå®šæœ‰ 8 å­—èŠ‚, æ•°æ®éƒ¨åˆ†å¯å˜é•¿
- å¤´éƒ¨çš„å‰ 4 å­—èŠ‚å›ºå®š, å 4 å­—èŠ‚éšç±»å‹å˜åŒ–

#### å·®é”™æŠ¥å‘Š [IMP]

- å¤„ç† IP æ•°æ®æŠ¥æ—¶å‡ºç°çš„é—®é¢˜
  - ç›®çš„ç«¯ä¸å¯è¾¾: æ‰¾ä¸åˆ°å¯¹åº”ä¸»æœºæˆ–ç«¯å£
  - æ—¶é—´è¶…æ—¶: TTL åˆ°è¾¾ 0
  - æºç«¯æŠ‘åˆ¶: é€šçŸ¥æºç«¯å‡ºç°æ‹¥å¡ä¸ä¸¢å¼ƒ, å¼€å§‹æµé‡æ§åˆ¶
  - å‚æ•°é—®é¢˜: æŠ¥æ–‡æ ¼å¼ä¸å¯¹
  - é‡å®šå‘: ä¸»æœºå°†æŠ¥æ–‡å‘é€ç»™äº†ç»•è·¯çš„è·¯ç”±å™¨, è¯¥è·¯ç”±å™¨ä¼šè½¬å‘å¹¶å›é€è¿™æ¡å·®é”™æŠ¥å‘Š, å¯ä»¥æ›´æ–°ä¸»æœºçš„è·¯ç”±è¡¨

#### æŸ¥è¯¢æŠ¥æ–‡

- æˆå¯¹å‡ºç°, æä¾›ä¿¡æ¯äº¤æ¢ä¸æŸ¥è¯¢
  - å›é€è¯·æ±‚ä¸å›ç­”: ping å‘½ä»¤çš„é‚£ä¸ª
  - æ—¶é—´æˆ³è¯·æ±‚ä¸å›ç­”: æµ‹é‡ä¸¤ä¸»æœºé—´å¾€è¿”æ—¶é—´, å¯ç”¨äºæ—¶é—´åŒæ­¥
  - åœ°å€æ©ç è¯·æ±‚ä¸å›ç­”
  - è·¯ç”±å™¨è¯¢é—®ä¸é€šå‘Š

### IGMP

> IGMP: Internet Group Management Protocol, å› ç‰¹ç½‘ç»„ç®¡ç†åè®®

- ä¸æ˜¯å¤šæ’­è·¯ç”±åè®®, è€Œæ˜¯ç®¡ç†ç»„æˆå‘˜çš„åè®®
- ä¸ºå¤šæ’­è·¯ç”±å™¨ (multicast router) æä¾›å…³äºè¿æ¥åˆ°ç½‘ç»œä¸Šçš„èŠ‚ç‚¹æˆå‘˜çŠ¶æ€çš„ä¿¡æ¯

## Chapter 22 ä¼ é€’ã€è½¬å‘å’Œè·¯ç”±é€‰æ‹©

### è½¬å‘æŠ€æœ¯

- ä¸‹ä¸€æ¡æ–¹æ³•: è·¯ç”±è¡¨ä¸­ä»…ä¿å­˜ä¸‹ä¸€è·³çš„åœ°å€
- è·¯ç”±æ–¹æ³•: è·¯ç”±è¡¨ä¸­ä¿å­˜å®Œæ•´çš„è·¯ç”±ä¿¡æ¯ (å®Œæ•´çš„è·¯å¾„)
- ç‰¹å®šç½‘ç»œæ–¹æ³•: å°†è¿æ¥åœ¨æ•´ä¸ªç½‘ç»œä¸Šçš„ä¸»æœºè§†ä¸ºåŒä¸€ä¸ªæ¡ç›®
- ç‰¹å®šä¸»æœºæ–¹æ³•: æ¯å°ä¸»æœºä¸€ä¸ªæ¡ç›®
- é»˜è®¤æ–¹æ³•: è¡¨é‡Œæœ‰çš„æŒ‰è¡¨æ¥, æ²¡æœ‰çš„åŒä¸€æ‰”åˆ°ä¸€ä¸ªç«¯å£

### è½¬å‘è¿‡ç¨‹

- é‡‡ç”¨æ— ç±»å¯»å€
- è¡¨ä¸­åŒ…å«**æ©ç **, ç½‘ç»œåœ°å€, ä¸‹ä¸€è·³åœ°å€, æ¥å£
- è¿‡ç¨‹
  - å°†æ¯ä¸ªæ¡ç›®çš„æ©ç ä¸æ¥æ”¶åˆ°çš„åˆ†ç»„çš„ç›®çš„åœ°å€ç›¸ä¸, åˆ¤æ–­æ˜¯å¦ç¬¦åˆç½‘ç»œåœ°å€
    - è‹¥ä¸ç¬¦åˆ, åˆ™æ¯”è¾ƒä¸‹ä¸€æ¡
    - è‹¥ç¬¦åˆ, å‡†å¤‡é€šè¿‡å¯¹åº”çš„ä¸‹ä¸€è·³åœ°å€å’Œç«¯å£è½¬å‘, å¯èƒ½éœ€è¦ ARP
    - è‹¥æ— ç¬¦åˆæ¡ç›®, æŒ‰é»˜è®¤æ¡ç›®è½¬å‘

### åœ°å€èšåˆ [IMP]

å¯¹ç½‘ç»œçš„å…¶ä»–éƒ¨åˆ†, å°†è¿ç»­çš„åœ°å€å—å„¿é€šè¿‡ç¼©çŸ­æ©ç çš„é•¿åº¦æ¥å°†å…¶æ˜¯ä¸ºä¸€ä¸ªåœ°å€

![aggregate](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622000936.png)

> åœ¨ R2 çœ‹æ¥, ç»„ç»‡ 1~4 æ˜¯åŒä¸€ä¸ªåœ°å€, åªå ä¸€ä¸ªæ¡ç›®, åªéœ€è¦è½¬å‘åˆ° m0 æ¥å£å°±è¡Œ
> è‡³äºç»„ç»‡ 1~4 ä¹‹é—´å„è‡ªçš„åˆ†ç»„è½¬å‘, ç”± R1 è´Ÿè´£

### æœ€é•¿æ©ç åŒ¹é… [IMP]

- åœ¨è·¯ç”±è¡¨ä¸­æŒ‰ç…§æ©ç çš„é•¿çŸ­ä»ä¸Šåˆ°ä¸‹æ’åº, é•¿çš„åœ¨ä¸Šé¢
- è¿™æ ·æ¯æ¬¡éƒ½ä»æ©ç æœ€é•¿çš„å¼€å§‹åŒ¹é…
- è€Œæ©ç æœ€é•¿æ„å‘³ç€æœ€"ç²¾ç¡®", èŒƒå›´æœ€å°

![longest match](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622001259.png)

> å‡å¦‚ç›®æ ‡åœ°å€ä¸º 140.24.7.200 (å±äºç»„ç»‡ 4) çš„åˆ†ç»„åˆ°è¾¾ R2, ä¼šä» m1 è½¬å‘å‡ºå» (ç¬¬ä¸€æ¡çš„æ©ç æœ€é•¿ä¸”æˆåŠŸåŒ¹é…)
> ä¹‹åç»è¿‡ R3 åˆ°è¾¾ç»„ç»‡ 4

> **è‡³äºä¹‹åçš„ RIP, OSPF, BGP ç­‰è¯·è‡ªè¡Œçœ‹ä¹¦, æçº²ä¸Šéƒ½æ˜¯åŠ ç²—çš„...**
> å•æ’­è·¯ç”±åè®®ï¼šè·¯ç”±åè®®çš„åˆ†ç±»åŠå…¸å‹çš„è·¯ç”±åè®®(RIPã€OSPFã€BGP)ï¼ŒAS çš„æ¦‚å¿µã€RIP åè®®å’Œ OSPF åè®®ã€Dijkstraã€Bellmanford ç®—æ³•è®¡ç®—è·¯ç”±è¡¨åŠæœ€å°ç”Ÿæˆæ ‘
> å¤šæ’­çš„æ¦‚å¿µå’Œå¤šæ’­è·¯ç”±åè®®ï¼ˆäº†è§£ï¼‰

# Part 5 ä¼ è¾“å±‚

## Chapter 23 UDPã€TCP å’Œ SCTP

### ç«¯å£ [IMP]

- ä¸€ä¸ªç«¯å£å·ç¡®å®šäº†ä¸»æœºä¸Šçš„ä¸€ä¸ªè¿›ç¨‹
- åˆ’åˆ†
  - 1~1023: ç†ŸçŸ¥ç«¯å£
  - 1024~49151: æ³¨å†Œç«¯å£, IANA ä¸åˆ†é…ä¸æ§åˆ¶, ä½†å¯ä»¥æ³¨å†Œæ¥é˜²æ­¢é‡å¤
  - 49152~65535: åŠ¨æ€ç«¯å£, å¯ä»¥æœ‰ä»»ä½•è¿›ç¨‹ä½¿ç”¨, ä¸éœ€æ³¨å†Œ
- å¥—æ¥å­—åœ°å€: ç”± IP åœ°å€å’Œç«¯å£å·ç»„æˆ, å”¯ä¸€ç¡®å®šäº†ä¸€å°ä¸»æœºä¸Šçš„ä¸€ä¸ªè¿›ç¨‹

### UDP

> UDP: User Datagram Protocol, ç”¨æˆ·æ•°æ®æŠ¥åè®®

#### æ¦‚å¿µ

- æ— è¿æ¥ ä¸å¯é  ä¼ è¾“å±‚åè®®
- æœ‰é™çš„å·®é”™æ£€éªŒ

#### UDP çš„ç†ŸçŸ¥ç«¯å£ [IMP]

![udp port](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622002944.png)

> å¯ä»¥çœ‹ä¹¦ p468

#### æ•°æ®æŠ¥ç»“æ„

![header](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622003102.png)

- å¤´éƒ¨å›ºå®š 8 å­—èŠ‚
- æºç«¯å£å·: å¦‚æœæ˜¯æºä¸»æœºæ˜¯å®¢æˆ·æœº, åˆ™å¤§æ¦‚ç‡æ˜¯ä¸´æ—¶ç«¯å£å·; æœåŠ¡å™¨åˆ™å¤§æ¦‚ç‡æ˜¯ç†ŸçŸ¥ç«¯å£å·
- ç›®çš„ç«¯å£å·: ç±»ä¼¼ä¸Šé¢, ä¸è¿‡åè¿‡æ¥
- æ€»é•¿åº¦: å¤´éƒ¨ (8 å­—èŠ‚) + æ•°æ®é•¿åº¦
- æ ¡éªŒå’Œ
- æ³¨æ„åœ¨çœŸæ­£çš„ UDP å¤´éƒ¨ä¸­, æ²¡æœ‰æºåœ°å€å’Œç›®çš„åœ°å€ (è¿™æ˜¯ IP å¤´éƒ¨çš„ä¸œè¥¿), ä½†æ˜¯æ ¡éªŒå’Œä¼šç”¨åˆ°å®ƒä»¬

#### æ ¡éªŒå’Œ [IMP]

![p header](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622003643.png)

- å®é™…ä¸Šæ˜¯**ä¼ªå¤´éƒ¨**ä¸å¤´éƒ¨å…±åŒçš„æ ¡éªŒå’Œ
- ä¼ªå¤´éƒ¨: ç±»ä¼¼ IP å¤´éƒ¨çš„æœ€å 12 å­—èŠ‚, è§ä¸Šå›¾
- æ•°æ®éƒ¨åˆ†é€šè¿‡å¡«å…… 0 è¡¥é½åˆ° 16 ä½çš„æ•´æ•°å€, ä½†**åœ¨å‘é€æ—¶ä¼šè¢«ç§»é™¤, ä¸è¿›è¡Œå¡«å……**
- åœ¨è®¡ç®—å®Œæ ¡éªŒå’Œå, ä¼ªå¤´éƒ¨å’Œå¡«å……å°±è¢«ç§»é™¤, å®ƒä»¬ä¸ä¼šäº¤ç»™ IP
- è®¡ç®—æ–¹æ³•å’Œä¹‹å‰ä¸€æ ·, 16 ä½åˆ†ç»„, æ±‚å’Œ, å¾ªç¯è¿›ä½, æœ€åå–åç 
- æ ¡éªŒå’Œæ˜¯å¯é€‰çš„, è‹¥ä¸è®¡ç®—åˆ™å¯åœ¨è¿™ä¸ªå­—æ®µå¡«å……å…¨ 1 (å› ä¸ºçœŸæ­£çš„æ ¡éªŒå’Œä¸å¯èƒ½ä¸ºå…¨ 1, è¿™è¯´æ˜å’Œä¸º 0)

### TCP [IMP]

> TCP: Transmission Control Protocol, è¿æ¥æ§åˆ¶åè®®

#### æ¦‚å¿µä¸ç‰¹ç‚¹

- æœ‰è¿æ¥ å¯é  ä¼ è¾“å±‚åè®®
- æœ‰æµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶
- æœåŠ¡:
  - æä¾›è¿›ç¨‹åˆ°è¿›ç¨‹çš„é€šä¿¡
  - æä¾›æµä¼ é€’æœåŠ¡, ç±»ä¼¼äºä¸€ä¸ªå‡æƒ³çš„ç®¡é“, å­˜åœ¨ç¼“å†²åŒº
  - å…¨åŒå·¥é€šä¿¡
  - é¢å‘è¿æ¥
- ä½¿ç”¨åºåˆ—å· seq, å€¼ä¸ºè¯¥æ®µåŒ…å«çš„ç¬¬ä¸€ä¸ª(æ•°æ®)å­—èŠ‚çš„åºå·
- ä½¿ç”¨ç¡®è®¤å· ack, å€¼ä¸ºæ¥æ”¶æ–¹é¢„æœŸæ¥å—çš„ä¸‹ä¸€ä¸ªå­—èŠ‚çš„åºå·

#### æ®µæ ¼å¼

> TCP ä¸­çš„åˆ†ç»„è¢«ç§°ä¸º"æ®µ"

![tcp segment](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622004618.png)

- æºç«¯å£åœ°å€, ç›®çš„ç«¯å£åœ°å€: å’Œ UDP ä¸­çš„ä¸€æ ·
- åºåˆ—å· seq: æ®µä¸­æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºå·, è¿æ¥å»ºç«‹æ—¶åŒæ–¹å„è‡ªé€šè¿‡éšæœºæ•°äº§ç”Ÿåˆå§‹åºåˆ—å· (ISN)
- ç¡®è®¤å· ack: æ®µçš„æ¥æ”¶æ–¹æœŸæœ›æ¥å—çš„ä¸‹ä¸€ä¸ªå­—èŠ‚å·
- å¤´éƒ¨é•¿åº¦: å•ä½ä¸º**4å­—èŠ‚**, ä¹Ÿå°±æ˜¯è¯´è¯¥å­—æ®µçš„å€¼ä¸ºå¤´éƒ¨é•¿åº¦é™¤ä»¥ 4
- ä¿ç•™: å°±æ˜¯ä¿ç•™
- å…­ä¸ªæ§åˆ¶ä½
  - URG: ç´§æ€¥æŒ‡é’ˆæœ‰æ•ˆ, è§åé¢
  - ACK: è¯¥å¸§åŒ…å«ç¡®è®¤
  - PSH: è¯·æ±‚æ€¥è¿«/å‘é€æ•°æ® ~~(å…¶å®æ²¡å•¥ç”¨)~~
  - RST: è¿æ¥å¤ä½ ~~(GFWç»å¸¸å°±é è¿™ä¸ªé˜»æ–­ä½ çš„è¿æ¥)~~
  - SYN: åŒæ­¥åºåˆ—å·
  - FIN: ç»ˆæ­¢è¿æ¥
- çª—å£: å®šä¹‰äº†æ¥æ”¶çª—å£ (rwnd, Receive**r** Window) çš„å¤§å°, è§é˜»å¡æ§åˆ¶
- æ ¡éªŒå’Œ: è®¡ç®—æ–¹æ³•ä¸€æ ·, ä¹Ÿæœ‰ä¼ªå¤´éƒ¨, ä¼ªå¤´éƒ¨ + å¤´éƒ¨ + æ•°æ®, ä½†æ˜¯ä¹¦ä¸Šæ²¡è¯´ TCP çš„ä¼ªå¤´éƒ¨æ˜¯å•¥
- ç´§æ€¥æŒ‡é’ˆ: æŒ‡å‘ç´§æ€¥å­—èŠ‚çš„æœ€åä¸€ä¸ªå­—èŠ‚, ç´§æ€¥å­—èŠ‚æ€»æ˜¯ä½äºæ®µçš„å¼€å§‹, æ”¶åˆ°åä¼šè¢«ç›´æ¥é€å¾€è¿›ç¨‹, æ— éœ€ç­‰å¾…

#### è¿æ¥çš„å»ºç«‹

![tcp establish](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622104459.png)

- é‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹
  - å®¢æˆ·ç«¯: SYN (ä»…åŒ…å«å·±æ–¹ seq, SYN æ®µä¸æºå¸¦æ•°æ®, ä½†å ç”¨åºåˆ—å·)
  - æœåŠ¡å™¨: SYN + ACK (åŒ…å«æœåŠ¡å™¨çš„ seq å’Œ ack, å’Œå•çº¯çš„ SYN ä¸€æ ·å ç”¨åºåˆ—å·)
  - å®¢æˆ·ç«¯: ACK (è‹¥ ACK æ®µä¸æºå¸¦æ•°æ®, åˆ™ä¸å ç”¨åºåˆ—å·)
- å­˜åœ¨ SYN æ´ªæ³›æ”»å‡»çš„é—®é¢˜
  - æ”»å‡»æ–¹ä¼ªé€ å¤§é‡çš„ SYN, ä¼ªè£…æˆæ­£å¸¸çš„è¿æ¥è¯·æ±‚
  - ç”±äºæœåŠ¡å™¨éœ€è¦ä¸ºæ¯ä¸€ä¸ªè¯·æ±‚åˆ†é…èµ„æº, å› æ­¤å¾ˆå¿«è¢«è€—å°½
  - æœ€ç»ˆæœåŠ¡å™¨æ— æ³•æ¥å—æ–°çš„æ­£å¸¸ç”¨æˆ·çš„è¯·æ±‚ -> æ‹’ç»æœåŠ¡æ”»å‡» (DoS, Denial of Service)

> DDoS, Distributed Denial of Service, å°±æ˜¯åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»

#### è¿æ¥ç»ˆæ­¢

##### ä¸‰æ¬¡æŒ¥æ‰‹

![3 wave](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622105351.png)

- ä¸»åŠ¨æ–¹: FIN, å¯æºå¸¦æ•°æ®, å ç”¨ä¸€ä¸ªåºåˆ—å·
- è¢«åŠ¨æ–¹: FIN+ACK, å¯æºå¸¦æ•°æ®, å ç”¨ä¸€ä¸ªåºåˆ—å·
- ä¸»åŠ¨æ–¹: ACK, ä¸å ç”¨åºåˆ—å·

##### å››æ¬¡æŒ¥æ‰‹

![4 wave](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622105644.png)

- ä¸»åŠ¨æ–¹: FIN
- è¢«åŠ¨æ–¹: FIN+ACK
  - æ­¤æ—¶è¿›å…¥**åŠå…³é—­**
  - ä¸»åŠ¨æ–¹ä¸èƒ½å¤Ÿå†å‘é€æ•°æ®, ä½†å¯ä»¥æ¥æ”¶æ•°æ®
  - è¢«åŠ¨æ–¹è¿˜èƒ½å¤Ÿç»§ç»­å‘é€æ•°æ®
- è¢«åŠ¨æ–¹: FIN
- ä¸»åŠ¨æ–¹: ACK

#### å·®é”™æ§åˆ¶

##### æ ¡éªŒå’Œ

åœ¨å¤´éƒ¨, æ ¡éªŒå†…å®¹åŒ…æ‹¬ä¼ªå¤´éƒ¨ + å¤´éƒ¨ + æ•°æ®

##### ç¡®è®¤

å°±æ˜¯å¯¹å ç”¨åºåˆ—å·çš„æ®µå›é€ ACK -> ACK æœ¬èº«ä¸å ç”¨åºåˆ—å·, æ‰€ä»¥ä¸éœ€è¦ç¡®è®¤

##### é‡ä¼ 

- å‡ºç°æŸå, ä¸¢å¤±æˆ–å»¶è¿Ÿæ—¶é‡ä¼ æ®µ
- åœ¨å®ç°ä¸­, åˆ†ä¸ºé‡ä¼ è®¡æ—¶å™¨åˆ°æ—¶å’Œè¿ç»­æ”¶åˆ° 3 ä¸ª ACK
- é‡ä¼ è®¡æ—¶å™¨åˆ°æ—¶:
  - å·²å‘é€æœªç¡®è®¤çš„(å ç”¨åºåˆ—å·çš„)æ®µæœ‰ä¸€ä¸ªå®šæ—¶å™¨
    - ç§°ä¸º RTO è®¡æ—¶å™¨ (Retransmission Time-Out)
    - å…¶å€¼æ ¹æ®å¾€è¿”æ—¶é—´åŠ¨æ€æ›´æ–°
    - å¯¹ ACK æ®µä¸è®¾ç½®å®šæ—¶å™¨
  - å®šæ—¶å™¨åˆ°æ—¶æ—¶é‡å‘æœ€æ—©çš„é‡è¦çš„æ®µ
- è¿ç»­æ”¶åˆ°ä¸‰ä¸ª ACK:
  - è§¦å‘**å¿«é€Ÿé‡ä¼ **
  - ç«‹å³å‘é€ç¼ºå°‘çš„æ®µ
- å¤±åºçš„æ®µ
  - æš‚æ—¶ä¿ç•™, ç›´åˆ°ç¼ºå°‘çš„é‚£ä¸ªæ®µåˆ°è¾¾
  - TCP ä¿è¯æäº¤ç»™è¿›ç¨‹çš„æ•°æ®æ˜¯é¡ºåºæ­£ç¡®çš„

![RTO](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622111546.png)
> é‡ä¼ è®¡æ—¶å™¨è¶…æ—¶é‡ä¼ 

![3 ACK](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622111612.png)
> å¿«é€Ÿé‡ä¼ , é‡ä¼ æ—¶ seq 301~400 çš„è®¡æ—¶å™¨è¿˜æ²¡åˆ°æ—¶, ä½†ä¾ç„¶é‡ä¼ 

#### TCP æ‹¥å¡æ§åˆ¶

- åœ¨è¿™é‡Œç¡®å®š cwnd å¤§å° (Congestion Window, æ‹¥å¡çª—å£)
- é‡‡ç”¨ä¸‰ä¸ªé˜¶æ®µ: æ…¢é€Ÿå¯åŠ¨, æ‹¥å¡é¿å…, æ‹¥å¡æ£€æµ‹
- æ…¢é€Ÿå¯åŠ¨: æŒ‡æ•°å¢é•¿
  - å¼€å§‹æ—¶ cwnd = 1 MSS (æœ€å¤§æ®µé•¿åº¦, åœ¨è¿æ¥å»ºç«‹æ—¶ç¡®å®š, ç›¸å½“äºè¿™æ—¶çª—å£å¤§å°ä¸ºä¸€ä¸ªæ®µ)
  - æ¯ä¸€ä¸ªæ®µçš„ç¡®è®¤éƒ½ä¼šä½¿ cwnd+1, **æŒ‰ç…§æŒ‡æ•°è§„å¾‹å¢é•¿**
  - åˆ°è¾¾**é˜ˆå€¼**æ—¶, ç»“æŸæ…¢é€Ÿå¯åŠ¨é˜¶æ®µ
- æ‹¥å¡é¿å…: åŠ æ€§å¢åŠ 
  - æ¯æ¬¡çª—å£ä¸­æ‰€æœ‰æ®µå‡è¢«ç¡®è®¤åæ‰æœ‰ cwnd+1
  - ç›´åˆ°æ£€æµ‹åˆ°æ‹¥å¡
- æ‹¥å¡æ£€æµ‹: ä¹˜æ€§å‡å°‘
  - è‹¥é‡ä¼ è®¡æ—¶å™¨åˆ°æ—¶, è¯´æ˜æ‹¥å¡å¯èƒ½å¾ˆä¸¥é‡: æ®µä¸¢å¤±ä¸”ä¸€ç›´æ²¡æ”¶åˆ°ç›¸å…³ä¿¡æ¯
    - å¼ºçƒˆååº”
      - é˜ˆå€¼è®¾ç½®ä¸º cwnd çš„ä¸€åŠ
      - cwnd = 1 MSS
      - å¼€å§‹æ…¢é€Ÿå¯åŠ¨é˜¶æ®µ
    - ç›¸å½“äºé˜ˆå€¼å˜ä¸ºå®é™…ä¸Šé™çš„ä¸€åŠ, ç„¶åé‡å¯ä¼ è¾“ (é€Ÿåº¦æ–¹é¢)
  - è‹¥æ¥æ”¶åˆ°ä¸‰ä¸ª ACK, è¯´æ˜å¯èƒ½æœ‰è½»åº¦æ‹¥å¡, ä¸€äº›æ®µå¯èƒ½å·²ç»æˆåŠŸåˆ°è¾¾, ä»…æœ‰éƒ¨åˆ†ç¼ºå¤±
    - è½»åº¦ååº”
      - é˜ˆå€¼è®¾ç½®ä¸º cwnd çš„ä¸€åŠ
      - cwnd = é˜ˆå€¼ (éƒ¨åˆ†å®ç°æ˜¯ é˜ˆå€¼+3)
      - å¼€å§‹æ‹¥å¡é¿å…é˜¶æ®µ (å°±æ˜¯åŠ æ€§å¢åŠ )

![c-control](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622114245.png)

> SS: æ…¢é€Ÿå¯åŠ¨ (æŒ‡æ•°å¢é•¿)
> AI: åŠ æ€§å¢åŠ 
> MD: ä¹˜æ€§å‡å°‘
> Threshold: é˜ˆå€¼

#### TCP æµé‡æ§åˆ¶ [IMP]

![Window](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622124037.png)

- é‡‡ç”¨æ»‘åŠ¨çª—å£, é¢å‘å­—èŠ‚, åˆç§°ä¿¡è´·æ»‘çª—åè®®
- çª—å£å¤§å°ä¸ºå¤´éƒ¨ä¸­çš„æ¥æ”¶çª—å£ (rwnd) ä¸ cwnd è¾ƒå°å€¼
  - rwnd è¡¨æ˜äº†æ¥æ”¶æ–¹å½“å‰å¯ç”¨çš„çª—å£å¤§å°
- åœ¨çª—å£ä¸­, å·¦ä¾§ä¸ºå·²å‘é€ä½†æœªç¡®è®¤çš„, å³ä¾§ä¸ºå¯ç«‹åˆ»å‘é€çš„
- åœ¨çª—å£å¤–, å·¦ä¾§ä¸ºå·²å‘é€ä¸”å·²ç¡®è®¤çš„, å³ä¾§ä¸ºæœªå‘é€ä¸”å°šä¸å¯å‘é€çš„
- å‘é€æ–¹æ¥æ”¶åˆ° ACK å, å¯ä»¥åˆæ‹¢çª—å£: å·¦ä¾§å‘å³ç§»åŠ¨
- å½“ rwnd æˆ– cwnd æ›´æ–°æ—¶, å¯ä»¥å¼ å¼€çª—å£: å³ä¾§å‘å³ç§»åŠ¨, ä½†ä¸å»ºè®®æ”¶ç¼© (å³ä¾§å‘å·¦ç§»åŠ¨)
- çª—å£å·¦è¾¹æ²¿ä¸èƒ½å‘å·¦ç§»åŠ¨

## Chapter 24 æ‹¥å¡æ§åˆ¶å’ŒæœåŠ¡è´¨é‡

### ååé‡å’Œå»¶è¿Ÿ [IMP]

- é€šå¸¸æ˜¯è¡¡é‡ç½‘ç»œæ€§èƒ½çš„å› ç´ 
- ååé‡:
  - å•ä½æ—¶é—´å†…é€šè¿‡ç½‘ç»œçš„åˆ†ç»„æ•°é‡
  - è½½è·å°äºç½‘ç»œå®¹é‡æ—¶, ååé‡éšè½½è·å¢åŠ æˆæ¯”ä¾‹å¢é•¿
  - è½½è·è¾¾åˆ°ç½‘ç»œå®¹é‡æ—¶, ååé‡ä¼šæ€¥å‰§ä¸‹é™ (ä¸€äº›åˆ†ç»„è¢«ä¸¢å¼ƒå¯¼è‡´é‡ä¼ )
- å»¶è¿Ÿ: å½“è½½è·è¿œå°äºç½‘ç»œå®¹é‡æ—¶ï¼Œå»¶è¿Ÿæœ€å°
  - æœ€å°å»¶è¿Ÿæ˜¯ç”±ä¼ æ’­å»¶è¿Ÿå’Œå¤„ç†å»¶è¿Ÿæ‰€ç»„æˆçš„ï¼Œä¸”éƒ½å¯ä»¥å¿½ç•¥ä¸è®¡
  - è½½è·è¾¾åˆ°ç½‘ç»œå®¹é‡æ—¶, å»¶è¿Ÿæ€¥å‰§å¢åŠ  (åˆ†ç»„éœ€è¦æ’é˜Ÿ)

### æ‹¥å¡æ§åˆ¶ [IMP]

#### å¼€ç¯æ‹¥å¡æ§åˆ¶

- é‡ä¼  (ä¾‹å¦‚ TCP)
- çª—å£ (æ¯”å¦‚é€‰æ‹©æ€§é‡å¤ ARQ)
- ç¡®è®¤ (ACK, ä½¿ç”¨ä¸€ä¸ª ACK ç¡®è®¤å¤šä¸ªåˆ†ç»„ä¸åœæ­¢-ç­‰å¾… ARQ)
- ä¸¢å¼ƒ (æŒ‰ç…§ä¼˜å…ˆçº§)
- è®¸å¯ (è™šç”µè·¯å»ºç«‹è¿æ¥æ—¶æ£€æŸ¥æ˜¯å¦æœ‰æ‹¥å¡, æœ‰åˆ™æ‹’ç»å»ºç«‹è¿æ¥)

#### é—­ç¯æ‹¥å¡æ§åˆ¶

- èƒŒå‹: ä»ç›®çš„ç«¯æ–¹å‘çš„èŠ‚ç‚¹é€ä¸ªæ‹’ç»æ¥å—ä¸Šè¡ŒèŠ‚ç‚¹çš„æ•°æ®, ç›´åˆ°æºç«¯
- æŠ‘åˆ¶åˆ†ç»„: ä»å‘ç”Ÿæ‹¥å¡çš„èŠ‚ç‚¹å‘é€è­¦å‘Šä¿¡æ¯åˆ°æºç«¯
- éšå«ä¿¡ä»¤: è¿›è¡Œæ¨æµ‹, ä¾‹å¦‚è¿‡é•¿æ—¶é—´æ²¡æœ‰æ”¶åˆ°ç¡®è®¤
- æ˜¾ç¤ºä¿¡ä»¤: æŠŠä¿¡å·åŒ…å«åœ¨æºå¸¦æ•°æ®çš„åˆ†ç»„ä¸­, åˆ†å‰å‘ä¿¡ä»¤ (å‘å‘ç”Ÿæ‹¥å¡çš„æ–¹å‘), åå‘ä¿¡ä»¤ (åŸç†å‘ç”Ÿæ‹¥å¡çš„æ–¹å‘)

# Part 6 åº”ç”¨å±‚

## Chapter 25 åŸŸåç³»ç»Ÿ

> DNS: Domain Name System

### åŸŸåç©ºé—´ [IMP]

- ä½¿ç”¨å€’ç½®çš„æ ‘å®šä¹‰
- æœ€å¤š 128 çº§, æ ¹èŠ‚ç‚¹ä¸º 0 çº§
- æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæ ‡å· (æœ€é•¿ 63 çš„å­—ç¬¦ä¸²), **æ ¹èŠ‚ç‚¹æ ‡å·ä¸ºç©º**
- æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ ‡å·ä¸èƒ½ç›¸åŒ -> ä¿è¯äº†åŸŸåçš„å”¯ä¸€æ€§
- åŸŸåç”±ä»å­èŠ‚ç‚¹å‘æ ¹èŠ‚ç‚¹æ–¹å‘ä¸Šçš„æ ‡å·ç»„æˆ, ç”±ç‚¹åˆ†å‰²
- å…¨ç§°åŸŸå (FQDN)
  - Full Qualified Domain Name
  - åŒ…å«æ¯ä¸€ä¸ªèŠ‚ç‚¹
  - ä»¥ç‚¹ç»“å°¾, å› ä¸ºæœ€åçš„æ ¹èŠ‚ç‚¹æ ‡å·ä¸ºç©º
- éƒ¨åˆ†åŸŸå
  - Partially Qualified Domain Name
  - èµ·å§‹äºå­èŠ‚ç‚¹, ä½†æ²¡æœ‰åˆ°è¾¾æ ¹èŠ‚ç‚¹
  - æ‰€ä»¥ä¸ä»¥ç‚¹ç»“å°¾

### å®¢æˆ·ç«¯æœåŠ¡å™¨æ¨¡å¼çš„åŸŸåè§£æ [IMP]

- å®¢æˆ·ç«¯é€šè¿‡è¯·æ±‚æœ€è¿‘çš„ DNS æœåŠ¡å™¨
- æ­£å‘æŸ¥è¯¢: åŸŸååˆ°åœ°å€
- åå‘æŸ¥è¯¢: åœ°å€åˆ°åŸŸå, ä¹Ÿå« PTR æŸ¥è¯¢ (æŒ‡é’ˆæŸ¥è¯¢)
  - è‹¥è¦æŸ¥è¯¢ A.B.C.D çš„åŸŸå, å‘é€ `D.C.B.A.in-addr.arpa.`
  - æ³¨æ„åå‘å’Œæœ€åçš„ç‚¹
- åˆ†ä¸ºé€’å½’è§£æå’Œè¿­ä»£è§£æ
  - é€’å½’è§£æ: å®¢æˆ·æœºæœŸæœ›æœ¬åœ°æœåŠ¡å™¨ç›´æ¥æä¾›æœ€ç»ˆç»“æœ
    - å¦‚æœè¯¥æœåŠ¡å™¨æ˜¯è¿™ä¸ªåŸŸåçš„æˆæƒæœåŠ¡å™¨, åˆ™ç›´æ¥å“åº”
    - å¦åˆ™æŠŠè¯·æ±‚è½¬å‘ç»™å¦ä¸€ä¸ªæœåŠ¡å™¨ (é€šå¸¸æ˜¯çˆ¶æœåŠ¡å™¨)
      - å¦‚æœçˆ¶æœåŠ¡å™¨æ˜¯æˆæƒæœåŠ¡å™¨, åˆ™çˆ¶æœåŠ¡å™¨ -> æœ¬åœ°æœåŠ¡å™¨ -> å®¢æˆ·ç«¯
      - å¦åˆ™ç»§ç»­é€’å½’, ç›´åˆ°æ‰¾åˆ°ç»“æœ
  - è¿­ä»£è§£æ: å®¢æˆ·æœºè‡ªå·±ä¸€ä¸ªä¸€ä¸ªè¯¢é—®æ‰¾åˆ°ç»“æœ
    - å¦‚æœè¯¥æœåŠ¡å™¨æ˜¯è¿™ä¸ªåŸŸåçš„æˆæƒæœåŠ¡å™¨, åˆ™ç›´æ¥å“åº”
    - å¦åˆ™è¯¥æœåŠ¡å™¨è¿”å›ä¸€ä¸ªå®ƒè®¤ä¸ºå¯èƒ½çŸ¥é“çš„æœåŠ¡å™¨çš„åœ°å€, ç”±å®¢æˆ·æœºè‡ªå·±å»ç»§ç»­æŸ¥è¯¢
- DNS æœåŠ¡å™¨é‡‡ç”¨ç¼“å­˜æŠ€æœ¯, å­˜å‚¨æœ€è¿‘çš„æŸ¥è¯¢ä¸ç»“æœ
  - é€šè¿‡åœ¨æŸ¥è¯¢æ¡ç›®ä¸­æ·»åŠ  TTL (ç”Ÿå­˜æ—¶é—´) æ¥ä¿è¯ç»“æœä¸è¿‡æ—¶

### DNS æŠ¥æ–‡

- æŸ¥è¯¢å’Œè¯·æ±‚æŠ¥æ–‡å¤´éƒ¨ç›¸åŒ
- çœ‹ä¹¦ p534

## Chapter 26 è¿œç¨‹ç™»å½•ã€ç”µå­é‚®ä»¶å’Œæ–‡ä»¶ä¼ è¾“

### TELNET

> TELNET: Terminal NETwork, ç»ˆç«¯ç½‘ç»œ

- å»ºç«‹åˆ°è¿œç¨‹è®¡ç®—æœºçš„è¿æ¥ (ç±»ä¼¼å‘½ä»¤è¡Œç‰ˆæœ¬çš„è¿œç¨‹æ¡Œé¢)
- æ˜¯å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¶æ„

### ç”µå­é‚®ä»¶

#### æ„æ¶

- UA: ç”¨æˆ·ä»£ç†ç¨‹åº, è´Ÿè´£ç”Ÿæˆé‚®ä»¶ (ç±»ä¼¼é‚®ä»¶å®¢æˆ·ç«¯, äººç”¨çš„é‚£ä¸ª)
- MTA: æŠ¥æ–‡ä¼ è¾“ä»£ç†, è´Ÿè´£è½¬å‘ä¸ä¿å­˜, å®¢æˆ·ç«¯åªèƒ½æ¨å…¥æŠ¥æ–‡ (push)
- MAA: æŠ¥æ–‡è®¿é—®ä»£ç†, è´Ÿè´£æä¾›æ”¶åˆ°çš„æŠ¥æ–‡, å®¢æˆ·ç«¯åªèƒ½å–å‡ºæŠ¥æ–‡ (pull)
- å‘é€æ–¹ä¸º A, æ¥æ”¶æ–¹ä¸º B:
  - åŒä¸€ç³»ç»Ÿ: A -> UA -> ç³»ç»Ÿ -> UA -> B
  - ä¸åŒç³»ç»Ÿ: A -> UA -> MTAå®¢æˆ·ç«¯(åœ¨é‚®ä»¶æœåŠ¡å™¨ä¸Š) -> å› ç‰¹ç½‘ -> MTAæœåŠ¡å™¨(åœ¨å¦ä¸€å°é‚®ä»¶æœåŠ¡å™¨ä¸Š) -> UA -> B
  - ä¸€æ–¹æœªç›´æ¥è¿æ¥åˆ°é‚®ä»¶æœåŠ¡å™¨: å…ˆé€šè¿‡å¹¿åŸŸç½‘/å±€åŸŸç½‘æŠŠé‚®ä»¶æŠ¥æ–‡å‘åˆ°æœåŠ¡å™¨
  - åŒæ–¹å‡ä¸ºğŸ‘†: A->UA->MTAå®¢æˆ·ç«¯(åœ¨Açš„è®¡ç®—æœºä¸Š)->MTAå®¢æˆ·ç«¯(åœ¨é‚®ä»¶æœåŠ¡å™¨ä¸Š)->å› ç‰¹ç½‘->MTAæœåŠ¡å™¨(åœ¨å¦ä¸€å°é‚®ä»¶æœåŠ¡å™¨ä¸Š)->MAAæœåŠ¡å™¨(åŒå‰)->MAAå®¢æˆ·ç«¯(åœ¨Bè®¡ç®—æœºä¸Š)->UA->B

#### MIME [IMP]

> MIME: Multipurpose Internet Mail Extension, å¤šç”¨é€”å› ç‰¹ç½‘é‚®ä»¶æ‰©å±•

- å°†é ASCII æ•°æ®è½¬æ¢æˆ NVT ASCII æ•°æ®

#### SMTP [IMP]

> SMTP: Simple Mail Transfer Protocol, ç®€å•é‚®ä»¶ä¼ è¾“åè®®

- æ˜¯æŠ¥æ–‡ä¼ è¾“ä»£ç† (MTA) åè®®
- å®šä¹‰äº†ä¸€ç»„äº¤æ¢é‚®ä»¶çš„å‘½ä»¤

#### POP3 å’Œ IMAP4 [IMP]

> POP: Post Office Protocol ver 3, é‚®å±€åè®®ç‰ˆæœ¬ 3
> IMAP: Internet Mail Access Protocol ver 4, å› ç‰¹ç½‘é‚®ä»¶è®¿é—®åè®®ç‰ˆæœ¬ 4

- éƒ½æ˜¯æŠ¥æ–‡è®¿é—®ä»£ç† (MAA) åè®®, æä¾›ç”¨æˆ·å’Œé‚®ä»¶æœåŠ¡å™¨é—´çš„æŠ¥æ–‡é˜…è¯»
- POP3:
  - åŠŸèƒ½ç®€å•, ä¸æ”¯æŒé¢„è§ˆ
  - æ”¯æŒåˆ é™¤æ¨¡å¼å’Œä¿å­˜æ¨¡å¼
    - åˆ é™¤: é‚®ä»¶ä»é‚®ç®±è¯»å–åå³è¢«åˆ é™¤
    - ä¿å­˜: è¯»åä¸åˆ é™¤
- IMAP4:
  - å¯ä»¥åœ¨ä¸‹è½½å‰è¯»å–å¤´éƒ¨æˆ–å†…å®¹ä¸­çš„ç‰¹å®šå­—ç¬¦ä¸²
  - å¯ä»¥éƒ¨åˆ†ä¸‹è½½é‚®ä»¶å†…å®¹

### æ–‡ä»¶ä¼ è¾“

#### FTP [IMP]

- å®¢æˆ·æœº/æœåŠ¡å™¨æ¨¡å¼
- æ§åˆ¶ç«¯å£ 21, æ•°æ®ç«¯å£ 20
- å‰è€…åœ¨æ•´ä¸ªä¼šè¯æœŸé—´æŒç»­è¿æ¥, åè€…ä»…åœ¨æ–‡ä»¶ä¼ è¾“æ—¶è¿æ¥
- éœ€è¦ç™»é™†, ä½†æœåŠ¡å™¨å¯ä»¥å…è®¸åŒ¿åå¸æˆ· (è°éƒ½èƒ½ç”¨)
- å¯ä»¥ä¼ è¾“æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶

## Chapter 27 ä¸‡ç»´ç½‘ä¸è¶…æ–‡æœ¬ä¼ è¾“åè®®

### URL [IMP]

> URL: Uniform Resource Locator, ç»Ÿä¸€èµ„æºå®šä½ç¬¦

- æ ¼å¼: `åè®® :// ä¸»æœº : ç«¯å£ / è·¯å¾„`
  - ä¾‹å¦‚ `https://example.suffix:80/index`
- ç«¯å£å¯é€‰, åè®®æœ€å¸¸ç”¨çš„æ˜¯ HTTP

### HTTP

> HTTP: HyperText Transfer Protocol, è¶…æ–‡æœ¬ä¼ è¾“åè®®

#### æ¦‚å¿µ [IMP]

- åœ¨ 80 ç«¯å£ä¸Šä½¿ç”¨ TCP
- åŒæ ·ç”¨æ¥å­˜å–ä¿¡æ¯, ç±»ä¼¼ FTP å’Œ SMTP çš„ç»„åˆ

#### æŠ¥æ–‡ç»“æ„ [IMP]

![req](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622141444.png)
> è¯·æ±‚æŠ¥æ–‡çš„ç»“æ„

![res](https://gitee.com/HorizonChaser/pic-bed/raw/master/img/20210622141525.png)
> å“åº”æŠ¥æ–‡çš„ç»“æ„

- éƒ½æ˜¯çº¯æ–‡æœ¬çš„
- è¯·æ±‚ç±»å‹: GET, POST, HEAD, PUT, TRACE ç­‰ç­‰
- é¦–éƒ¨: ç±»ä¼¼äºé€‰é¡¹, æŒ‡å®šäº†å¯æ¥å—çš„æ ¼å¼, è¯­è¨€, è¿‡æœŸæ—¶é—´ç­‰

> æ— å…³å†…å®¹: å®é™…ä¸Šæœ‰äº›äººè®¤ä¸º HTTP æŠ¥æ–‡ç”±äºä½¿ç”¨äº†çº¯æ–‡æœ¬, ä¸åˆ©äºå¿«é€Ÿè§£æ
> ä¸è¿‡çº¯æ–‡æœ¬å€’æ˜¯æœ‰ä¸ªæ˜¾è‘—ä¼˜ç‚¹ - äººç±»å¯è¯» ğŸ¶

#### HTTP æ“ä½œ

- HTTP æœ¬èº«æ˜¯æ— çŠ¶æ€çš„, çŠ¶æ€éœ€è¦ä¾èµ– cookie ä¿å­˜
- å®¢æˆ·ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡æ¥åˆå§‹åŒ–HTTPäº‹åŠ¡
- æœåŠ¡å™¨å‘é€å“åº”æŠ¥æ–‡è¿›è¡Œå›å¤

> *0620 ğŸ•ŠğŸ•ŠğŸ•Š è®¡åˆ’: To Chapter 18, end of Part 3 - Datalink Layer*
> *0620 Completed ğŸ»*
> *0621 ğŸ•ŠğŸ•ŠğŸ•Š è®¡åˆ’: To Chapter 20 - IP Protocol*
> *0621 Finished Chapter 24, end of Part 5 - Network Layer ğŸ»*
> *0622 ğŸ•ŠğŸ•ŠğŸ•Š è®¡åˆ’: Finish'em ALL*
> *0622 We made it.*
